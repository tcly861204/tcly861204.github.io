<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[underscoreæºç å­¦ä¹ ]]></title>
    <url>%2F2019%2F09%2F10%2Funderscore%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%2F</url>
    <content type="text"><![CDATA[1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071(function()&#123; const root = (typeof self === 'object' &amp;&amp; self.self === self &amp;&amp; self) || (typeof global === 'object' &amp;&amp; global.global === global &amp;&amp; global) || this || &#123;&#125;; const _ = function(obj) &#123; if (obj instanceof _) return obj; if(!(this instanceof _)) return new _(obj); this._wrapped = obj || [] &#125; const ArrayProto = Array.prototype; const push = ArrayProto.push; if (typeof exports != 'undefined' &amp;&amp; !exports.nodeType) &#123; if (typeof module != 'undefined' &amp;&amp; !module.nodeType &amp;&amp; module.exports) &#123; exports = module.exports = _; &#125; exports._ = _; &#125; else &#123; root._ = _; &#125; _.VERSION = '0.1'; _.each = function (arr, cb) &#123; let i = 0; let Len = arr.length; while(i &lt; Len) &#123; if (_.isFunction(cb)) &#123; cb.call(arr[i], arr[i], i) &#125; i++ &#125; return this &#125; _.isFunction = function(obj) &#123; return typeof obj == 'function' || false; &#125;; _.functions = function(obj) &#123; const names = []; for(let key in obj) &#123; if (_.isFunction(obj[key])) names.push(key); &#125; return names.sort(); &#125; _.mixin = function(obj) &#123; _.each(_.functions(obj), function(name) &#123; var func = _[name] = obj[name]; _.prototype[name] = function() &#123; let fn = null _.each(Array.from(arguments), item =&gt; &#123; if (!_.isFunction(item)) &#123; this._wrapped = [...this._wrapped, ...item] &#125; else &#123; fn = item &#125; &#125;) if (!fn) &#123; return this &#125; let args = [this._wrapped]; push.apply(args, [fn]); return func.apply(_, args); &#125;; &#125;); return _; &#125;; _.mixin(_)&#125;)()]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>underscore</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue-cli3å†…å­˜æº¢å‡º]]></title>
    <url>%2F2019%2F09%2F04%2Fvue-cli3%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA%2F</url>
    <content type="text"><![CDATA[èµ·å› æœ¬åœ°ä¸€ä¸ªé¡¹ç›®æ˜¯ä½¿ç”¨vue-cli2æž„å»ºçš„ï¼Œå¯ä»¥æ­£å¸¸è¿è¡Œã€‚æ‰“ç®—å‡çº§åˆ°vue-cli@3ï¼Œé­é‡äº†è¿è¡Œnpm run devæ— æ³•è¿è¡Œï¼Œçˆ†å‡ºJavaScript heap out of memory çš„é—®é¢˜ã€‚ vue-cli2é‡åˆ°æ­¤é—®é¢˜çš„è§£å†³åŠžæ³•ï¼š npm run dev å’Œ npm run build ç›´æŽ¥åœ¨å‰é¢åŠ ä¸Š--max_old_space_size=4096 vue-cli3é‡åˆ°æ­¤é—®é¢˜çš„è§£å†³åŠžæ³•ï¼š scriptsä¸­æ·»åŠ ä¸€å¥æŒ‡ä»¤å®‰è£…ä¸¤ä¸ªnpmåŒ… ï¼š increase-memory-limit å’Œcross-envå®‰è£…å®ŒæˆåŽï¼Œå…ˆæ‰§è¡Œä¸€æ¬¡ npm run fix-memory-limitï¼Œç„¶åŽyarn serveå¯åŠ¨å³å¯ 12345678910"scripts": &#123; "serve": "vue-cli-service serve", "build": "vue-cli-service build", "fix-memory-limit": "cross-env LIMIT=4096 increase-memory-limit",&#125;,# åŒæ—¶å®‰è£… 2 ä¸ªä¾èµ–åŒ…"devDependencies": &#123; "increase-memory-limit": "^1.0.3", "cross-env": "^5.0.5"&#125; vue-cli3 çš„è§£å†³åŠžæ³•æ‰¾äº†åŠå¤©æ‰æ‰¾åˆ°ï¼Œè¯´ä¸€ä¸‹ä¿®å¤åŽŸç†ã€‚å®ƒä¸èƒ½åƒvue-cli2ç›´æŽ¥åœ¨ npm run devä¸­é—´æ·»åŠ ä¸€ä¸ªå‚æ•°ï¼Œæˆ‘å°è¯•äº†å‡ ç§æ–¹æ³•åªæœ‰ä½¿ç”¨å®‰è£…æ¨¡å—fix-memory-limitçš„æ–¹å¼ç”Ÿæ•ˆï¼Œå…¶åŽŸç†æ˜¯ä¿®æ”¹äº†node_modulesä¸­ä¸€ä¸ªå«åš.binï¼ˆé€šå¸¸å°±æ˜¯ç¬¬ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼‰çš„æ–‡ä»¶å¤¹å†…æ‰€æœ‰æ–‡ä»¶æƒé™ã€‚ æ–¹æ³•ä¸€ï¼šåœ¨package.jsonä¸­scriptsåŽŸåŸºç¡€ä¸Šæ·»åŠ å‚æ•°ï¼Œä»¥åŠå°è¯•ä½¿ç”¨npxã€‚ä¸è¡Œã€‚ æ–¹æ³•äºŒï¼š åœ¨node_modulesä¸­çš„vue-cli-sevieæºä»£ç ä¸­æ·»åŠ ä¸€å¥ã€‚ ä¸è¡Œã€‚ åŽŸæ–‡åœ°å€https://blog.csdn.net/win7583362/article/details/86305780]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>build</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¿™äº›WebAPIçœŸçš„æœ‰ç”¨å—? åˆ«é—®, é—®å°±æ˜¯æœ‰ç”¨ðŸˆ¶]]></title>
    <url>%2F2019%2F08%2F25%2F%E8%BF%99%E4%BA%9BWebAPI%E7%9C%9F%E7%9A%84%E6%9C%89%E7%94%A8%E5%90%97%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡åˆ—ä¸¾äº†ä¸€äº›åˆ—æ¯”è¾ƒä¸å¸¸è§çš„Web APIï¼Œå†…å®¹è¾ƒå¤šï¼Œæ‰€ä»¥æœ‰å…³å…¼å®¹æ€§çš„å†…å®¹åœ¨æœ¬æ–‡ä¸ä¼šå‡ºçŽ°ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±åŽ»æŸ¥é˜…ã€‚ ä»¥ä¸‹æ¡ˆä¾‹èƒ½é…åŠ¨å›¾çš„æˆ‘å°½é‡åŽ»é…äº†ï¼Œä»¥å…å†…å®¹æž¯è‰ä¹å‘³ï¼Œä½†æ˜¯å¦‚æžœå†…å®¹æœ‰è¯¯ï¼Œä¹Ÿè¯·å¤§å®¶äº²å–·æˆ–è€…çº æ­£ðŸ‘Œ æ–¹æ³•åˆ—è¡¨ querySelectorï¼ˆå…ƒç´ å‘ä¸‹æŸ¥è¯¢ï¼Œè¿”å›žä¸€ä¸ªï¼‰ querySelectorAllï¼ˆå…ƒç´ å‘ä¸‹æŸ¥è¯¢ï¼Œè¿”å›žå¤šä¸ªï¼‰ closestï¼ˆå…ƒç´ å‘ä¸ŠæŸ¥è¯¢ï¼‰ datasetï¼ˆèŽ·å–å…ƒç´ ä»¥â€data-â€œä¸ºå‰ç¼€çš„å±žæ€§é›†åˆï¼‰ URLSearchParamsï¼ˆæŸ¥è¯¢å‚æ•°ï¼‰ hiddenï¼ˆéšè—å…ƒç´ ï¼‰ contenteditableï¼ˆä½¿å…ƒç´ å¯ä»¥è¢«ç¼–è¾‘ï¼‰ spellCheckï¼ˆæ£€æŸ¥æ‹¼éŸ³ï¼‰ classListï¼ˆç±»åæŽ§åˆ¶å™¨ï¼‰ getBoundingClientRectï¼ˆå…ƒç´ ç©ºé—´ç»“æž„è¯¦ç»†ä¿¡æ¯ï¼‰ containsï¼ˆåˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ ï¼‰ online stateï¼ˆç½‘ç»œçŠ¶æ€ï¼‰ battery stateï¼ˆç”µæ± çŠ¶æ€ï¼‰ vibrationï¼ˆè®¾å¤‡éœ‡åŠ¨ï¼‰ page visibilityï¼ˆé¡µé¢å¯è§æ€§ï¼‰ deviceOrientationï¼ˆé™€èžºä»ªï¼‰ toDataUrlï¼ˆç”»å¸ƒå†…å®¹è½¬base64ï¼‰ customEventï¼ˆè‡ªå®šä¹‰äº‹ä»¶ï¼‰ notificationï¼ˆæ¡Œé¢é€šçŸ¥ï¼‰ fullScreenï¼ˆå…¨å±ï¼‰ orientationï¼ˆå±å¹•æ–¹å‘ï¼‰ é€ä¸ªå‡»ç ´querySelectoréƒ½9102å¹´äº†ï¼Œè¿˜åœ¨ç”¨getElementByIdå—ðŸ˜­èŽ·å–æŒ‡å®šå…ƒç´ ä¸­åŒ¹é…cssé€‰æ‹©å™¨çš„å…ƒç´ ï¼š 12345678// ä½œç”¨åœ¨documentdocument.querySelector("#nav"); // èŽ·å–æ–‡æ¡£ä¸­id="nav"çš„å…ƒç´ document.querySelector(".nav"); // èŽ·å–æ–‡æ¡£ä¸­class="nav"çš„å…ƒç´ document.querySelector("#nav li:first-child"); // èŽ·å–æ–‡æ¡£ä¸­id="nav"ä¸‹é¢çš„ç¬¬ä¸€ä¸ªliå…ƒç´ // ä¹Ÿå¯ä»¥ä½œç”¨åœ¨å…¶ä»–å…ƒç´ let nav = dodocument.querySelector("#nav");nav.querySelector("li"); // å¦‚æžœæœ‰å¤šä¸ªliçš„è¯ï¼Œè¿”å›žç¬¬ä¸€ä¸ªli querySelectorAllèŽ·å–æŒ‡å®šå…ƒç´ ä¸­åŒ¹é…cssé€‰æ‹©å™¨çš„æ‰€æœ‰å…ƒç´ ï¼š 1let list = document.querySelectorAll("li"); // NodeList(2) [li, li] è¿™é‡Œå‡è®¾è¿”å›ž2ä¸ª æ³¨æ„ï¼šè¿”å›žçš„å€¼æ˜¯ä¸€ä¸ªç±»æ•°ç»„ï¼Œæ— æ³•ä½¿ç”¨æ•°ç»„çš„åŽŸç”Ÿæ–¹æ³•ï¼ˆforEachã€mapç­‰ï¼‰ï¼Œéœ€è¦è½¬æ¢ä¸€ä¸‹ï¼š 1Array.from(list).map(); closestè·ŸquerySelectorç›¸åï¼Œè¯¥å…ƒç´ å¯ä»¥å‘ä¸ŠæŸ¥è¯¢ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥æŸ¥è¯¢åˆ°çˆ¶å…ƒç´ ï¼š 1document.querySelector("li").closest("#nav"); datasetå°±è·ŸåŽŸç”Ÿå¾®ä¿¡å°ç¨‹åºä¸€æ ·ï¼Œèƒ½èŽ·å–æ ‡ç­¾ä¸Šä»¥â€data-â€œä¸ºå‰ç¼€çš„å±žæ€§é›†åˆï¼š 1&lt;p data-name="èœ˜è››ä¾ " data-age="16"&gt;&lt;/p&gt; 1document.querySelector("p").dataset; // &#123;name: "èœ˜è››ä¾ ", age: "16"&#125; æ³¨æ„ï¼šè™½ç„¶å¯ä»¥ç”¨getAttributeæ–¹æ³•èŽ·å–ä»»ä½•å±žæ€§å€¼ï¼Œä½†æ˜¯æ€§è´¨å´ä¸ä¸€æ ·ï¼Œè¿™æ˜¯å¼€å‘è§„èŒƒé—®é¢˜ï¼Œå‡¡æ˜¯è‡ªå®šä¹‰å±žæ€§éƒ½è¦åŠ ä¸Šdata-å‰ç¼€å“¦âœ… URLSearchParamså‡è®¾æµè§ˆå™¨çš„urlå‚æ•°æ˜¯ â€œ?name=èœ˜è››ä¾ &amp;age=16â€ 1new URLSearchParams(location.search).get("name"); // èœ˜è››ä¾  hiddenè¿™æ˜¯ä¸€ä¸ªhtmlå±žæ€§ï¼Œè§„å®šå…ƒç´ æ˜¯å¦éšè—ï¼Œè¡¨çŽ°è·Ÿcssçš„display: noneä¸€è‡´ï¼š12&lt;div hidden&gt;æˆ‘è¢«éšè—äº†&lt;/div&gt;document.querySelector("div").hidden = true / false; contenteditableå¯ä»¥ä½¿ä¸€ä¸ªå…ƒç´ å¯ä»¥è¢«ç”¨æˆ·ç¼–è¾‘ï¼š1&lt;p contenteditable&gt;æˆ‘æ˜¯På…ƒç´ ï¼Œä½†æ˜¯æˆ‘ä¹Ÿå¯ä»¥è¢«ç¼–è¾‘&lt;/p&gt; æ•ˆæžœå¦‚ä¸‹ï¼š å¦‚æžœè¿™ä¸ªå±žæ€§è·Ÿstyleæ ‡ç­¾ç›¸é‡ä¼šäº§ç”Ÿä¸€æ®µéžå¸¸å¥‡å¦™çš„æ•…äº‹ï¼š contenteditableè·Ÿuser-modifyè¿˜èƒ½è¿™ä¹ˆçŽ©ðŸŒš spellcheckä¹Ÿæ˜¯ä¸€ä¸ªhtmlå±žæ€§ï¼Œè§„å®šè¾“å…¥çš„å†…å®¹æ˜¯å¦æ£€æŸ¥è‹±æ–‡çš„æ‹¼å†™ï¼š12&lt;!-- é»˜è®¤å°±æ˜¯trueï¼Œå¯çœç•¥ --&gt;&lt;textarea spellcheck="true"&gt;&lt;/textarea&gt; æ•ˆæžœå¦‚ä¸‹ï¼š è®¾ç½®ä¸æ£€æŸ¥ï¼š1&lt;textarea spellcheck="false"&gt;&lt;/textarea&gt; æ•ˆæžœå¦‚ä¸‹ï¼š classListè¿™æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡é‡Œå°è£…äº†è®¸å¤šæ“ä½œå…ƒç´ ç±»åçš„æ–¹æ³•ï¼š1&lt;p class="title"&gt;&lt;/p&gt; 12345678910111213141516let elem = document.querySelector("p");// å¢žåŠ ç±»åelem.classList.add("title-new"); // "title title-new"// åˆ é™¤ç±»åelem.classList.remove("title"); // "title-new"// åˆ‡æ¢ç±»åï¼ˆæœ‰åˆ™åˆ ã€æ— åˆ™å¢žï¼Œå¸¸ç”¨äºŽä¸€äº›åˆ‡æ¢æ“ä½œï¼Œå¦‚æ˜¾ç¤º/éšè—ï¼‰elem.classList.toggle("title"); // "title-new title"// æ›¿æ¢ç±»åelem.classList.replace("title", "title-old"); // "title-new title-old"// æ˜¯å¦åŒ…å«æŒ‡å®šç±»åelem.classList.contains("title"); // false getBoundingClientRectå¯ä»¥èŽ·å–æŒ‡å®šå…ƒç´ åœ¨å½“å‰é¡µé¢çš„ç©ºé—´ä¿¡æ¯ï¼š 12345678910111213elem.getBoundingClientRect();// è¿”å›ž&#123; x: 604.875, y: 1312, width: 701.625, height: 31, top: 1312, right: 1306.5, bottom: 1343, left: 604.875&#125; æ³¨æ„ï¼štopæ˜¯è·ç¦»æ–‡æ¡£é¡¶éƒ¨çš„è·ç¦»ï¼Œyåˆ™æ˜¯è·ç¦»å¯è§†çª—å£ï¼ˆæµè§ˆå™¨å±å¹•ï¼‰çš„é¡¶éƒ¨è·ç¦»ï¼Œå¦‚æžœæµè§ˆå™¨æ»šåŠ¨ï¼Œtopå€¼ä¸å˜ï¼Œyå€¼ä¼šå˜ âœ… containså¯ä»¥åˆ¤æ–­æŒ‡å®šå…ƒç´ æ˜¯å¦åŒ…å«äº†æŒ‡å®šçš„å­å…ƒç´ ï¼š123&lt;div&gt; &lt;p&gt;&lt;/p&gt;&lt;/div&gt; 1document.querySelector("div").contains(document.querySelector("p")); // true online stateç›‘å¬å½“å‰çš„ç½‘ç»œçŠ¶æ€å˜åŠ¨ï¼Œç„¶åŽæ‰§è¡Œå¯¹åº”çš„æ–¹æ³•ï¼š1234window.addEventListener("online", xxx);window.addEventListener("offline", () =&gt; &#123; alert("ä½ æ–­ç½‘å•¦ï¼");&#125;); PCç«¯æ•ˆæžœå¦‚ä¸‹ï¼š ç§»åŠ¨ç«¯æ•ˆæžœå¦‚ä¸‹ï¼šä½¿ç”¨åœºæ™¯ï¼šæç¤ºç”¨æˆ·å·²æ–­ç½‘ï¼Œç›´æŽ¥ä¸€ä¸ªå¼¹æ¡†æŠŠç”¨æˆ·å“æ‡µâœ… battery stateèŽ·å–è®¾å¤‡çš„ç”µæ± çŠ¶æ€ï¼š1234567891011121314navigator.getBattery().then(battery =&gt; console.log(battery));// è¿”å›ž&#123; charging, // æ˜¯å¦åœ¨å……ç”µ chargingTime, // å……æ»¡ç”µæ‰€éœ€æ—¶é—´ dischargingTime, // å½“å‰ç”µé‡å¯ä½¿ç”¨æ—¶é—´ level, å‰©ä½™ç”µé‡ onchargingchange, // ç›‘å¬å……ç”µçŠ¶æ€å˜åŒ– onchargingtimechange, // ç›‘å¬å……æ»¡ç”µæ‰€éœ€æ—¶é—´å˜åŒ– ondischargingtimechange, // ç›‘å¬å½“å‰ç”µé‡å¯ä½¿ç”¨æ—¶é—´å˜åŒ– onlevelchange // ç›‘å¬ç”µé‡å˜åŒ–&#125; ä½¿ç”¨åœºæ™¯ï¼šæç¤ºç”¨æˆ·ç”µé‡å·²å……æ»¡ï¼Œæˆ–è€…ä¸ºäº†è®©ç”¨æˆ·æœ‰å®‰å…¨æ„Ÿï¼Œç”µé‡ä½ŽäºŽ99%çš„æ—¶å€™æ¥ä¸ªå¼¹æ¡†æç¤ºâ€è¯¥å……ç”µå•¦â€âœ… vibrationå˜»å˜»ï¼Œä½¿è®¾å¤‡è¿›è¡Œéœ‡åŠ¨ï¼š12345// éœ‡åŠ¨ä¸€æ¬¡navigator.vibrate(100);// è¿žç»­éœ‡åŠ¨ï¼Œéœ‡åŠ¨200msã€æš‚åœ100msã€éœ‡åŠ¨300msnavigator.vibrate([200, 100, 300]); æ•ˆæžœå¦‚ä¸‹ï¼šä¸å¥½æ„æ€ä½ å¾—ç”¨ä½ è‡ªå·±çš„æ‰‹æ¡ä½æ‰‹æœºæ‰èƒ½æ„Ÿå—å¾—åˆ°;ä½¿ç”¨åœºæ™¯ï¼šé€šè¿‡æŒ¯åŠ¨æ¥æä¾›æ„Ÿå®˜åé¦ˆï¼Œæ¯”å¦‚å¤ªä¹…æ²¡æœ‰è§¦æ‘¸å±å¹•çš„æ—¶å€™è¿žç»­éœ‡åŠ¨æé†’ç”¨æˆ·âœ… page visibilityé¡¾åæ€ä¹‰ï¼Œè¿™ä¸ªAPIæ˜¯ç”¨æ¥ç›‘å¬é¡µé¢å¯è§æ€§å˜åŒ–çš„ï¼Œåœ¨PCç«¯æ ‡ç­¾æ åˆ‡æ¢ã€æœ€å°åŒ–ä¼šè§¦å‘ã€åœ¨ç§»åŠ¨ç«¯ç¨‹åºåˆ‡åˆ°åŽå°ä¼šè§¦å‘ï¼Œç®€å•è¯´å°±æ˜¯é¡µé¢æ¶ˆå¤±äº†ðŸ¤¦â€â™‚ï¸123document.addEventListener("visibilitychange", () =&gt; &#123; console.log(`é¡µé¢å¯è§æ€§ï¼š$&#123;document.visibilityState&#125;`);&#125;); PCç«¯æ•ˆæžœå¦‚ä¸‹ï¼š ç§»åŠ¨ç«¯æ•ˆæžœå¦‚ä¸‹ï¼šä½¿ç”¨åœºæ™¯ï¼šå½“ç¨‹åºåˆ‡åˆ°åŽå°çš„æ—¶å€™ï¼Œå¦‚æžœå½“å‰æœ‰è§†é¢‘æ’­æ”¾æˆ–è€…ä¸€äº›åŠ¨ç”»æ‰§è¡Œï¼Œå¯ä»¥å…ˆæš‚åœâœ… deviceOrientationé™€èžºä»ªï¼Œä¹Ÿå°±æ˜¯è®¾å¤‡çš„æ–¹å‘ï¼Œåˆåé‡åŠ›æ„Ÿåº”ï¼Œè¯¥APIåœ¨IOSè®¾å¤‡ä¸Šå¤±æ•ˆçš„è§£å†³åŠžæ³•ï¼Œå°†åŸŸååè®®æ”¹æˆhttpsï¼› ä»Žå·¦åˆ°å³åˆ†åˆ«ä¸ºalphaã€betaã€gamma;1234567891011window.addEventListener("deviceorientation", event =&gt; &#123; let &#123; alpha, beta, gamma &#125; = event; console.log(`alphaï¼š$&#123;alpha&#125;`); console.log(`betaï¼š$&#123;beta&#125;`); console.log(`gammaï¼š$&#123;gamma&#125;`);&#125;); ç§»åŠ¨ç«¯æ•ˆæžœå¦‚ä¸‹ï¼ˆæ­¤æ—¶æ‰‹æœºåœ¨ä¸åœçš„è½¬åŠ¨ï¼‰ï¼š ä½¿ç”¨åœºæ™¯ï¼šé¡µé¢ä¸Šçš„æŸäº›å…ƒç´ éœ€è¦æ ¹æ®æ‰‹æœºæ‘†åŠ¨è¿›è¡Œç§»åŠ¨ï¼Œè¾¾åˆ°è§†å·®çš„æ•ˆæžœï¼Œæ¯”å¦‚çŽ‹è€…è£è€€è¿›å…¥æ¸¸æˆçš„é‚£ä¸ªç•Œé¢ï¼Œæ‰‹æœºè½¬åŠ¨èƒŒæ™¯å›¾ä¼šè·Ÿç€åŠ¨ðŸ˜‚ toDataURLè¿™ä¸ªcanvasçš„APIï¼Œä½œç”¨æ˜¯å°†ç”»å¸ƒçš„å†…å®¹è½¬æ¢æˆä¸€ä¸ªbase64çš„å›¾ç‰‡åœ°å€ï¼› 1234567let canvas = document.querySelector("canvas");let context = canvas.getContext("2d");// ç”»ä¸œè¥¿...let url = canvas.toDataURL("image/png"); // å°†ç”»å¸ƒå†…å®¹è½¬æ¢æˆbase64åœ°å€ ä½¿ç”¨aæ ‡ç­¾è¿›è¡Œå›¾ç‰‡ä¸‹è½½æ—¶ï¼Œå›¾ç‰‡é“¾æŽ¥è·¨åŸŸï¼ˆå›¾ç‰‡æ˜¯æˆ‘çš„æŽ˜é‡‘å¤´åƒï¼‰ï¼Œæ— æ³•è¿›è¡Œä¸‹è½½è€Œæ˜¯è¿›è¡Œå›¾ç‰‡é¢„è§ˆï¼š12345&lt;img src="xxx"&gt;&lt;button&gt; &lt;a href="xxx" download="avatar"&gt;ä¸‹è½½å›¾ç‰‡&lt;/a&gt;&lt;/button&gt; æ•ˆæžœå¦‚ä¸‹ï¼š å°è£…ä»¥ä¸‹ä»£ç ä¾¿å¯è§£å†³âœ…123456789101112131415161718192021222324252627282930const downloadImage = (url, name) =&gt; &#123; // å®žä¾‹åŒ–ç”»å¸ƒ let canvas = document.createElement("canvas"); let context = canvas.getContext("2d"); // å®žä¾‹åŒ–ä¸€ä¸ªå›¾ç‰‡å¯¹è±¡ let image = new Image(); image.crossOrigin = "Anonymous"; image.src = url; // å½“å›¾ç‰‡åŠ è½½å®Œæ¯• image.onload = () =&gt; &#123; // å°†å›¾ç‰‡ç”»åœ¨ç”»å¸ƒä¸Š canvas.height = image.height; canvas.width = image.width; context.drawImage(image, 0, 0); // å°†ç”»å¸ƒçš„å†…å®¹è½¬æ¢æˆbase64åœ°å€ let dataURL = canvas.toDataURL("image/png"); // åˆ›å»ºaæ ‡ç­¾æ¨¡æ‹Ÿç‚¹å‡»è¿›è¡Œä¸‹è½½ let a = document.createElement("a"); a.hidden = true; a.href = dataURL; a.download = name; document.body.appendChild(a); a.click(); &#125;&#125; æ•ˆæžœå¦‚ä¸‹ï¼š æˆ–è€…å°†å½“å‰çš„DOMè½¬æ¢æˆå›¾ç‰‡è¿›è¡Œä¸‹è½½ï¼Œå¸¸ç”¨äºŽç”Ÿæˆæµ·æŠ¥ï¼š html2canvas customEventè‡ªå®šä¹‰äº‹ä»¶ï¼Œå°±è·Ÿvueé‡Œé¢çš„onè·Ÿemitä¸€æ ·ï¼›ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶ï¼š123window.addEventListener("follow", event =&gt; &#123; console.log(event.detail); // è¾“å‡º &#123;name: "å‰ç«¯å®‡å®™æƒ…æŠ¥å±€"&#125;&#125;); æ´¾å‘è‡ªå®šä¹‰äº‹ä»¶ï¼š12345window.dispatchEvent(new CustomEvent("follow", &#123; detail: &#123; name: "å‰ç«¯å®‡å®™æƒ…æŠ¥å±€" &#125;&#125;)); notificationPCç«¯çš„æ¡Œé¢é€šçŸ¥ï¼Œå¦‚ç½‘é¡µç«¯çš„å¾®ä¿¡ï¼Œå½“æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œå³ä¸‹è§’ä¼šå‡ºçŽ°ä¸€ä¸ªé€šçŸ¥ï¼ˆå°½ç®¡ä½ æŠŠæµè§ˆå™¨æœ€å°åŒ–ï¼‰ï¼Œå› ä¸ºè¿™ä¸ªé€šçŸ¥æ—¶ç‹¬ç«‹äºŽæµè§ˆå™¨çš„ï¼Œæ˜¯ç³»ç»Ÿçš„ä¸€ä¸ªåŽŸç”ŸæŽ§ä»¶ï¼› 123456789101112const notice = new Notification("å‰ç«¯å®‡å®™æƒ…æŠ¥å±€", &#123; body: "è¿™20ä¸ªä¸å¸¸ç”¨çš„Web APIçœŸçš„æœ‰ç”¨å—?ï¼Œåˆ«é—®ï¼Œé—®å°±æ˜¯æœ‰ç”¨ðŸˆ¶", icon: "æˆ‘çš„æŽ˜é‡‘å¤´åƒ", data: &#123; url: "https://www.baidu.com" &#125;&#125;);// ç‚¹å‡»å›žè°ƒnotice.onclick = () =&gt; &#123; window.open(notice.data.url); // å½“ç”¨æˆ·ç‚¹å‡»é€šçŸ¥æ—¶ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€ç™¾åº¦ç½‘ç«™&#125; æ•ˆæžœå¦‚ä¸‹ï¼š æ³¨æ„ï¼šæƒ³è¦æˆåŠŸçš„è°ƒèµ·é€šçŸ¥ï¼Œé¦–å…ˆè¦ç”¨æˆ·çš„æŽˆæƒâœ…1234Notification.requestPermission(prem =&gt; &#123; prem == "granted" // åŒæ„ prem == "denied" // æ‹’ç»&#125;) æ‰€ä»¥ï¼Œå†è°ƒç”¨ä¹‹å‰å…ˆå‘ç”¨æˆ·å‘èµ·è¯·æ±‚ï¼š1234567891011let permission = Notification.permission;if (permission == "granted") &#123; // å·²åŒæ„ï¼Œå¼€å§‹å‘é€é€šçŸ¥ ...&#125; else if (permission == "denied") &#123; // ä¸åŒæ„ï¼Œå‘ä¸äº†å’¯&#125; else &#123; // å…¶ä»–çŠ¶æ€ï¼Œå¯ä»¥é‡æ–°å‘é€æŽˆæƒæç¤º Notification.requestPermission();&#125; fullScreenå…¨å±ä¸å’¯? ä¹‹å‰çš„ä¸€ä¸ªé¡¹ç›®åˆšå¥½ç”¨ä¸Šï¼Œä¸ä»…ä»…å¯ä»¥ä½œç”¨åœ¨documentElementä¸Šï¼Œè¿˜å¯ä»¥ä½œç”¨åœ¨æŒ‡å®šå…ƒç´ ï¼›12345678910111213/** * @method launchFullScreen å¼€å¯å…¨å± * @param &#123;Object&#125; elem = document.documentElement ä½œç”¨çš„å…ƒç´  */const launchFullScreen = (elem = document.documentElement) =&gt; &#123; if(elem.requestFullScreen) &#123; elem.requestFullScreen(); &#125; else if(elem.mozRequestFullScreen) &#123; elem.mozRequestFullScreen(); &#125; else if(elem.webkitRequestFullScreen) &#123; elem.webkitRequestFullScreen(); &#125;&#125; ä½œç”¨åœ¨documentElementä¸Šæ²¡å•¥å¯ä»¥ä»‹ç»çš„å’¯ï¼Œå°±ç›¸å½“äºŽF11å¼€å¯å…¨å±ï¼š é‚£ä¹ˆä½œç”¨åœ¨æŒ‡å®šå…ƒç´ ä¼šæ˜¯ä»€ä¹ˆæ•ˆæžœå‘¢? å°±åƒæ•ˆæžœå›¾ä¸€æ ·ï¼Œä¼šç›´æŽ¥å¼€å¯å…¨å±ï¼Œå¹¶ä¸”åªæ˜¾ç¤ºæŒ‡å®šçš„å…ƒç´ ï¼Œå…ƒç´ çš„å®½é«˜å¡«å……äº†æ•´ä¸ªå±å¹•âœ…å…³é—­å…¨å±çš„æ—¶å€™éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç»Ÿä¸€ç”¨documentå¯¹è±¡ï¼š123456789101112/** * @method exitFullScreen å…³é—­å…¨å± */const exitFullScreen = () =&gt; &#123; if (document.exitFullscreen) &#123; document.exitFullscreen(); &#125; else if (document.mozCancelFullScreen) &#123; document.mozCancelFullScreen(); &#125; else if (document.webkitCancelFullScreen) &#123; document.webkitCancelFullScreen(); &#125;&#125; ä½¿ç”¨åœºæ™¯ï¼šéœ€è¦è®©ç”¨æˆ·ä¸“æ³¨åŽ»åšæŸä»¶äº‹ï¼Œæ¯”å¦‚ä»£ç ç¼–è¾‘åŒºçš„å…¨å±âœ… orientationå¯ä»¥ç›‘å¬ç”¨æˆ·æ‰‹æœºè®¾å¤‡çš„æ—‹è½¬æ–¹å‘å˜åŒ–ï¼›123window.addEventListener("orientationchange", () =&gt; &#123; document.body.innerHTML += `&lt;p&gt;å±å¹•æ—‹è½¬åŽçš„è§’åº¦å€¼ï¼š$&#123;window.orientation&#125;&lt;/p&gt;`;&#125;, false); æ•ˆæžœå¦‚ä¸‹ï¼š ä¹Ÿå¯ä»¥ä½¿ç”¨cssçš„åª’ä½“æŸ¥è¯¢ï¼š12345678910111213/* ç«–å±æ—¶æ ·å¼ */@media all and (orientation: portrait) &#123; body::after &#123; content: "ç«–å±" &#125;&#125;/* æ¨ªå±æ—¶æ ·å¼ */@media all and (orientation: landscape) &#123; body::after &#123; content: "æ¨ªå±" &#125;&#125; ä½¿ç”¨åœºæ™¯ï¼šé¡µé¢éœ€è¦ç”¨æˆ·å¼€å¯æ¨ªå±æ¥èŽ·å¾—æ›´å¥½çš„ä½“éªŒï¼Œå¦‚çŽ‹è€…è£è€€é‡Œé¢çš„æ´»åŠ¨é¡µðŸ˜‚ æ€»ç»“å…¶å®žä¸å¸¸ç”¨çš„è¿˜æœ‰å¾ˆå¤šå¾ˆå¤šï¼Œæœ‰ä¸€äº›æˆ‘æ²¡æœ‰å‘çŽ°æˆ–è€…æ²¡å†™ï¼Œå¦‚geoLocationåœ°ç†å®šä½ã€execCommandæ‰§è¡Œå‘½ä»¤ç­‰ï¼Œä¹Ÿæ¬¢è¿Žå¤§å®¶è¡¥å……ï¼Œå‰å‡ ç¯‡æ–‡ç« éƒ½æ˜¯cssç›¸å…³ï¼ŒåŽé¢å‡ ç¯‡å…ˆä¸å†™csså•¦ï¼Œä¸ºå¥½å¤šå†…å®¹å¤§å®¶éƒ½å†™è¿‡ï¼Œæƒ³å†™ä¸€äº›æ–°çš„ï¼Œä½†æ˜¯åˆéš¾å…ä¼šå†²çª~]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>html</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç½‘é¡µå¤šçº¿ç¨‹webwork]]></title>
    <url>%2F2019%2F08%2F23%2F%E7%BD%91%E9%A1%B5%E5%A4%9A%E7%BA%BF%E7%A8%8Bwebwork%2F</url>
    <content type="text"><![CDATA[webworkå¤šçº¿ç¨‹æŠ€æœ¯åœ¨æœåŠ¡ç«¯æŠ€æœ¯ä¸­å·²ç»å‘å±•çš„å¾ˆæˆç†Ÿäº†ï¼Œè€Œåœ¨Webç«¯çš„åº”ç”¨ä¸­å´ä¸€ç›´æ˜¯é¸¡è‚‹åœ¨æ–°çš„æ ‡å‡†ä¸­ï¼Œæä¾›çš„æ–°çš„WebWork APIï¼Œè®©å‰ç«¯çš„å¼‚æ­¥å·¥ä½œå˜å¾—å¼‚å¸¸ç®€å•ã€‚ä½¿ç”¨ï¼šåˆ›å»ºä¸€ä¸ªWorkerå¯¹è±¡ï¼ŒæŒ‡å‘ä¸€ä¸ªjsæ–‡ä»¶ï¼Œç„¶åŽé€šè¿‡Workerå¯¹è±¡å¾€jsæ–‡ä»¶å‘é€æ¶ˆæ¯ï¼Œjsæ–‡ä»¶å†…éƒ¨çš„å¤„ç†é€»è¾‘ï¼Œå¤„ç†å®Œæ¯•åŽï¼Œå†å‘é€æ¶ˆæ¯å›žåˆ°å½“å‰é¡µé¢ï¼Œçº¯å¼‚æ­¥æ–¹å¼ï¼Œä¸å½±å“å½“å‰ä¸»é¡µé¢æ¸²æŸ“ã€‚ 12345678910111213141516171819&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"/&gt; &lt;title&gt;&lt;/title&gt; &lt;script type="text/javascript"&gt; //åˆ›å»ºçº¿ç¨‹ workå¯¹è±¡ var work = new Worker("work.js"); //å‘é€æ¶ˆæ¯ work.postMessage("100"); // ç›‘å¬æ¶ˆæ¯ work.onmessage = function(event) &#123; alert(event.data); &#125;; &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; work.js1234567891011121314151617181920212223242526272829303132333435363738394041// åŸºæœ¬ç”¨æ³•onmessage = function (event) &#123; //ä»Ž1åŠ åˆ°num var num = event.data; //é€šè¿‡eventæŽ¥æ”¶æ•°æ® var result = 0; for (var i = 1; i &lt;= num; i++) &#123; result += i; &#125; postMessage(result); // é€šè¿‡æ­¤æ–¹æ³•å¯¹å¤–æŠ›æ•°æ®&#125;// work.js å†…éƒ¨å¯ä»¥é€šè¿‡ajax æˆ– fetch ä¸ŽæœåŠ¡ç«¯äº¤äº’// fetch æŽ¨èaddEventListener("message", function(event) &#123; let postData = JSON.parse(event.data); fetch(`date.json?a=$&#123;postData.a&#125;&amp;b=$&#123;postData.b&#125;`).then(function(response) &#123; return response.json(); &#125;).then(function(data) &#123; console.log(data); postMessage(data); &#125;).catch(function(e) &#123; console.log("Oops, error"); &#125;);&#125;, false);// ajaxç‰ˆaddEventListener("message", function(event) &#123; let postData = JSON.parse(event.data); let xhr = new XMLHttpRequest(); xhr.onreadystatechange = function()&#123; console.log(xhr.status) if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300 || xhr.status === 304)&#123; postMessage(xhr.responseText); &#125;else if(xhr.status &gt;=400)&#123; console.log("é”™è¯¯ä¿¡æ¯ï¼š" + xhr.status) &#125; &#125; xhr.open('GET', `date.json?a=$&#123;postData.a&#125;&amp;b=$&#123;postData.b&#125;`, true); xhr.send()&#125;, false);]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>es6</tag>
        <tag>webwork</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ES6-fetchçš„ç”¨æ³•]]></title>
    <url>%2F2019%2F08%2F23%2FES6-fetch%E7%9A%84%E7%94%A8%E6%B3%95%2F</url>
    <content type="text"><![CDATA[Fetchfetchæ˜¯ç”¨æ¥å–ä»£ä¼ ç»Ÿçš„XMLHttpRequestçš„ã€‚ å®ƒçš„ä¼˜ç‚¹å¾ˆå¤šï¼ŒåŒ…æ‹¬é“¾å¼è°ƒç”¨çš„è¯­æ³•ã€è¿”å›žpromiseç­‰ã€‚fetch apiæ˜¯åŸºäºŽpromiseçš„è®¾è®¡ï¼Œå®ƒæ˜¯ä¸ºäº†å–ä»£ä¼ ç»Ÿxhrçš„ä¸åˆç†çš„å†™æ³•è€Œç”Ÿçš„ã€‚ ä¼ ç»Ÿajaxxhrè¯·æ±‚å†™èµ·æ¥éžå¸¸çš„æ··ä¹±ï¼Œå¦‚ä¸‹æ‰€ç¤º 12345678910var xhr = new XMLHttpRequest();xhr.open('GET', url);xhr.responseType = 'json';xhr.onload = function() &#123; console.log(xhr.response);&#125;;xhr.onerror = function() &#123; console.log("Oops, error");&#125;;xhr.send(); ä½†æ˜¯ä½¿ç”¨fetchä¹‹åŽï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š1234567fetch(url).then(function(response) &#123; return response.json();&#125;).then(function(data) &#123; console.log(data);&#125;).catch(function(e) &#123; console.log("Oops, error");&#125;); è¿™ç§é“¾å¼è°ƒç”¨çš„é£Žæ ¼çœ‹ä¸ŠåŽ»ä¼šéžå¸¸èˆ’æœã€‚ å¦‚æžœæˆ‘ä»¬å†ä½¿ç”¨äº†ç®­å¤´å‡½æ•°å°±ä¼šæ›´åŠ ç®€æ´äº†ã€‚1234567891011121314fetch(url).then(response =&gt; response.json()) .then(data =&gt; console.log(data)) .catch(e =&gt; console.log("Oops, error", e))``` é€šè¿‡ä½¿ç”¨fetch apiï¼Œå¯ä»¥å°†ä¼ ç»Ÿçš„xhrçš„ç²—ç³™çš„ä½¿ç”¨æ–¹æ³•è½¬åŒ–çš„å¦‚æ­¤ç²¾ç®€ï¼Œå®žåœ¨æ˜¯å¥½ï¼# Fetch API&gt; Fetch APIæä¾›äº†ä¸€ä¸ªfetch()æ–¹æ³•ï¼Œå®ƒè¢«å®šä¹‰åœ¨BOMçš„windowå¯¹è±¡ä¸­ï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥å‘èµ·å¯¹è¿œç¨‹èµ„æºçš„è¯·æ±‚ã€‚ è¯¥æ–¹æ³•è¿”å›žçš„æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œè®©ä½ èƒ½å¤Ÿå¯¹è¯·æ±‚çš„è¿”å›žç»“æžœè¿›è¡Œæ£€ç´¢ã€‚ + é€šè¿‡fetchçš„å½¢å¼èŽ·å–æ•°æ® + JSONPã€CORSã€æœåŠ¡å™¨è·¨åŸŸ + CORSè¯·æ±‚å¤´ Access-Control-Allow-Originâ€, â€œ*â€ //æ‰€æœ‰çš„ç½‘ç«™Access-Control-Allow-Headersâ€, â€œContent-Type,Content-Length, Authorization, Accept,X-Requested-Withâ€Access-Control-Allow-Methodsâ€,â€PUT,POST,GET,DELETE,OPTIONSâ€ //Restfulè¯·æ±‚è§„èŒƒ æ”¯æŒç¬¦åˆRestfulçš„æ‰€æœ‰åè®® 12# fetchåªæ”¯æŒè·¨åŸŸCORS ä¸æ”¯æŒJSONPè·¨è¶Š //fetchå‘é€æ•°æ® //æ”¯æŒCORSè·¨åŸŸ,æ²¡æœ‰åŠžæ³•æŽ¥å—jsonpæ•°æ® function getData() { //æ”¯æŒ corsè·¨åŸŸurlåœ°å€â€™http://api.yytianqi.com/air?city=CH010100&amp;key=2c5br4sgmguremgg&#39; //https://api.douban.com/v2/book/1220562?callback=func return fetch(â€˜http://localhost:3001/getdata&#39;) .then(function (response) { console.log(response); //promiseå¯¹è±¡è¿”å›ž return response.json(); }) } getData().then(function (data) { console.log(data); })1234567891011# fetch-jsonpè·¨åŸŸæ˜¯å¯ä»¥æ”¯æŒjsonpè·¨åŸŸ&gt; npm install fetch-jsonp//fetchæ‰€æ”¯æŒçš„jsonpå‘é€æ•°æ®è¯·æ±‚ function getFetchJSONP()&#123; // return fetchJsonp('https://api.douban.com/v2/book/1220562',&#123; return fetchJsonp('http://localhost:3001/getjsonp',&#123; //å‘Šè¯‰fetchjsonpä½¿ç”¨jsonpè·¨åŸŸ jsonpCallback: 'callback' &#125;) .then(function (response) &#123; //æ‹¿åˆ°æ•´ä¸ªå“åº”æ•°æ® //è¿”å›žå“åº”ä¸­çš„ä¸»è¦æ•°æ® return response.json(); &#125;) &#125; getFetchJSONP().then(function (data) &#123; console.log(data); &#125;)# JSONPã€CORSã€æœåŠ¡å™¨è·¨åŸŸ 3ç§è·¨åŸŸæ–¹æ¡ˆè·¨åŸŸæ–¹æ¡ˆå¾ˆå¤šï¼Œé™¤äº†è¿™ä¸‰ç§ï¼Œè¿˜æœ‰activeæŽ§ä»¶ iframe è·¨åŸŸä¸å®‰å…¨ï¼Œä¸æŽ¨èè·¨åŸŸ var express =require(â€˜expressâ€™);var app=new express();var request=require(â€˜requestâ€™); //1 CORSè·¨åŸŸapp.use(function (req,res,next) { //æ¯ä¸€æ¬¡å‘é€çš„è¯·æ±‚å¤´ //æ”¯æŒcorsè·¨åŸŸ res.header(â€˜Access-Control-Allow-Originâ€™,â€™*â€™); next();});app.get(â€˜/getdataâ€™,function (req,res) { res.send(â€˜{â€œtextâ€:â€CORSè·¨åŸŸâ€}â€™);});//2 jsonpè·¨åŸŸapp.get(â€˜/getjsonpâ€™,function (req,res) { console.log(req.query.callback); console.log(req.querystring); res.send(;${req.query.callback}({&quot;text&quot;:&quot;CORSè·¨åŸŸ&quot;}););});//3 æœåŠ¡å™¨è½¬å‘è·¨åŸŸapp.get(â€˜/requestâ€™,function (req,res) { var url=â€™https://api.douban.com/v2/book/1220562&#39; request(url,function (error,response,body) { console.log(body); if(!error){ res.send(body); } }) });app.listen(â€˜3001â€™,function(){ console.log(â€˜ç«¯å£3001è¢«æ‰“å¼€äº†â€™);});`]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>es6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueå®žçŽ°è‡ªå®šä¹‰çª—å£]]></title>
    <url>%2F2019%2F07%2F31%2Fvue%E7%AA%97%E5%8F%A3%E8%87%AA%E5%AE%9A%E4%B9%89%E7%AA%97%E5%8F%A3%2F</url>
    <content type="text"><![CDATA[çª—å£è°ƒç”¨æ–¹æ³•123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149import Vue from 'vue'let iNum = 0let _components = &#123;&#125;const _util = &#123; // æŸ¥æ‰¾å¯¹åº”çš„æ¨¡æ¿ç»„ä»¶ hasTemplate (__file) &#123; return new Promise((resolve, reject) =&gt; &#123; let _find = false _components[__file].model.$children.map(child =&gt; &#123; if ('model__' in child &amp;&amp; child.model__ === 'iv-custom-model' &amp;&amp; child.$options.componentName === 'CustModelTemplate') &#123; _find = true resolve(child) &#125; &#125;) if (!_find) &#123; reject(_find) &#125; &#125;) &#125;, // æŸ¥æ‰¾ç»„ä»¶ findComponent (config) &#123; let __file = null Object.keys(_components).map(key =&gt; &#123; if (_components[key].component === config.component) &#123; __file = key &#125; &#125;) return __file &#125;, // åˆ›å»ºç¤ºä¾‹ created (config) &#123; iNum++ const Model = Vue.extend(config.component) let options = &#123; provide () &#123; return &#123; app: Object.assign(&#123;&#125;, config.app || &#123;&#125;), model: this &#125; &#125; &#125; if (config.router) &#123; options.router = config.router &#125; options.data = Object.assign(&#123; app: config.app || &#123;&#125; &#125;, config.options) let _model = new Model(options) _model.$mount() document.body.appendChild(_model.$el) const __file = 'model_' + iNum _components[__file] = &#123; component: config.component, model: _model, // model listen: false // æ˜¯å¦åŠ å…¥äº†ç›‘å¬ &#125; _CustModel.show(__file) this.listeners(config, __file) &#125;, // ç›‘å¬ listeners (config, __file) &#123; Object.keys(_components).map(key =&gt; &#123; let cp = _components[key] if (!cp.listen) &#123; cp.listen = true let _listen = Object.assign(&#123; close: () =&gt; &#123;&#125;, update: null, router: null &#125;, ('on' in config &amp;&amp; typeof config.on === 'object') ? config.on : &#123;&#125;) Object.keys(_listen).map(key =&gt; &#123; switch (key) &#123; case 'close': case 'router': case 'update': if (_listen[key] &amp;&amp; typeof _listen[key] === 'function') &#123; cp.model.$on(`on-$&#123;key&#125;`, (...args) =&gt; &#123; _listen[key].apply(cp.model, args) if (key === 'close' || key === 'router') &#123; if ('destroy' in config &amp;&amp; config.destroy) &#123; _CustModel.destroy(config) &#125; else &#123; _CustModel.hide(config) &#125; &#125; &#125;) &#125; break default: // ç”¨ä»¥åŒ¹é…ä»»æ„æ–¹æ³• cp.model.$on(`on-$&#123;key&#125;`, (...args) =&gt; &#123; _listen[key].apply(cp.model, args) &#125;) &#125; &#125;) &#125; return cp &#125;) &#125;&#125;const _CustModel = &#123; // åˆ›å»ºå…¥å£ install (config) &#123; if (!config.component) &#123; return &#125; let __file = _util.findComponent(config) if (__file) &#123; if ('options' in config &amp;&amp; typeof config.options === 'object') &#123; Object.keys(config.options).map(key =&gt; &#123; _components[__file].model._data[key] = config.options[key] &#125;) &#125; this.show(__file) &#125; else &#123; _util.created(config) &#125; &#125;, // ç¤ºä¾‹æ˜¾ç¤º show: function (__file) &#123; _util.hasTemplate(__file).then(child =&gt; &#123; child.visible = true &#125;) &#125;, // ç¤ºä¾‹éšè— hide: function (config) &#123; if (config &amp;&amp; config.component) &#123; let __file = _util.findComponent(config) if (__file) &#123; _util.hasTemplate(__file).then(child =&gt; &#123; child.visible = false &#125;) &#125; &#125; &#125;, // é”€æ¯ destroy: function (config) &#123; if (config &amp;&amp; config.component) &#123; let __file = _util.findComponent(config) if (__file) &#123; _components[__file].model.$destroy(true) _components[__file].model.$el.parentNode.removeChild(_components[__file].model.$el) _components[__file] = null delete _components[__file] &#125; &#125; &#125;&#125;export default _CustModel é…å¥—çª—å£æ¨¡æ¿123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337&lt;template&gt; &lt;div class="iv-custom-mask" v-show="visible" :style="maskStyle" @click.stop="onCloseHandle"&gt; &lt;div class="iv-custom-model" ref="model" :style="styles"&gt; &lt;section class="iv-custom-model__header" @mousedown.stop="onMouseDownHandle" :style="headStyle" v-if="header"&gt; &lt;i v-if="icon" :style="`font-size: $&#123;iconSize&#125;px`" :class="['title-icon', icon]" /&gt; &lt;slot class="iv-custom-model__header-title" name="header"&gt; &lt;h2 class="iv-custom-model__header-title" :style="titleStyle"&gt;&#123;&#123;title&#125;&#125;&lt;/h2&gt; &lt;/slot&gt; &lt;i v-if="full" :class="['full', 'ivu-icon', `ivu-icon-$&#123;fullFlag ? 'ios-contract' : 'ios-expand'&#125;`]" @click="onFullHandle" /&gt; &lt;i class="close omd omd-close" @click.stop="onCloseHandle" /&gt; &lt;/section&gt; &lt;section class="iv-custom-model__main" :style="mainStyles"&gt; &lt;Spin fix v-if="pageLoading"&gt;&lt;/Spin&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/section&gt; &lt;section class="iv-custom-model__footer" :style="footStyle" v-if="footer"&gt; &lt;div class="iv-custom-model__footer-prefix"&gt; &lt;slot name="footPrefix" /&gt; &lt;/div&gt; &lt;div class="iv-custom-model__footer-btns"&gt; &lt;slot name="footer"&gt; &lt;Button type="text" :size="footButtonSize" @click="onCancelHandle"&gt;&#123;&#123;cancelText&#125;&#125;&lt;/Button&gt; &lt;Button type="primary" :size="footButtonSize" :disabled="saveDisabled" :loading="loading" @click="onSaveHandle"&gt;&#123;&#123;okText&#125;&#125;&lt;/Button&gt; &lt;/slot&gt; &lt;/div&gt; &lt;/section&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: 'iv-custom-model', componentName: 'CustModelTemplate', props: &#123; loading: &#123; type: Boolean, default: false &#125;, pageLoading: &#123; type: Boolean, default: false &#125;, icon: &#123; type: String, default: '' &#125;, iconSize: &#123; type: [String, Number], default: 22 &#125;, mask: &#123; type: Boolean, default: false &#125;, full: &#123; type: Boolean, default: false &#125;, header: &#123; type: Boolean, default: true &#125;, headHeight: &#123; type: [ Number, String ], default: 50 &#125;, footer: &#123; type: Boolean, default: true &#125;, footHeight: &#123; type: [ Number, String ], default: 50 &#125;, footButtonSize: &#123; type: String, default: 'default' &#125;, cancelText: &#123; type: String, default: 'å–æ¶ˆ' &#125;, okText: &#123; type: String, default: 'ä¿å­˜' &#125;, title: &#123; type: String, default: '' &#125;, zIndex: &#123; type: Number, default: 2 &#125;, titleStyle: &#123; type: Object, default: () =&gt; &#123; return &#123;&#125; &#125; &#125;, saveDisabled: &#123; type: Boolean, default: false &#125;, // æ˜¯å¦è‡ªå®šä¹‰ä½ç½® é»˜è®¤å±…ä¸­ position: &#123; type: Boolean, default: false &#125;, bgColor: &#123; type: String, default: '#f5f5f5' &#125;, top: &#123; type: [Number, String], default: 0 &#125;, left: &#123; type: [Number, String], default: 0 &#125;, width: &#123; type: [Number, String], default: 600 &#125;, height: &#123; type: [Number, String], default: 420 &#125; &#125;, data () &#123; return &#123; fullFlag: false, mouseMoveHandle: null, mouseUpHandle: null, visible: false, model__: 'iv-custom-model', dist: &#123; isMove: false, disX: 0, disY: 0, left: 0, top: 0 &#125; &#125; &#125;, watch: &#123; visible: &#123; handler (v) &#123; this.$emit('on-visible-change', v) &#125; &#125;, immediate: true, deep: true &#125;, computed: &#123; maskStyle () &#123; if (this.mask) &#123; return &#123; zIndex: this.zIndex, background: `rgba(0, 0, 0, 0.2)` &#125; &#125; else &#123; return &#123; zIndex: this.zIndex, background: `rgba(0, 0, 0, 0)` &#125; &#125; &#125;, styles () &#123; if (this.position) &#123; return &#123; width: `$&#123;this.width&#125;px`, height: `$&#123;this.height &gt; window.innerHeight ? (window.innerHeight - 40) : this.height&#125;px`, top: `$&#123;this.top&#125;px`, left: `$&#123;this.left&#125;px`, margin: 'unset' &#125; &#125; return &#123; width: `$&#123;this.width&#125;px`, height: `$&#123;this.height&#125;px` &#125; &#125;, headStyle () &#123; return &#123; cursor: `$&#123;this.position ? 'move' : 'default'&#125;`, height: `$&#123;this.headHeight&#125;px`, lineHeight: `$&#123;this.headHeight&#125;px` &#125; &#125;, footStyle () &#123; return &#123; height: `$&#123;this.headHeight&#125;px`, lineHeight: `$&#123;this.headHeight&#125;px` &#125; &#125;, mainStyles () &#123; let _header = this.header ? parseInt(this.headHeight) : 0 let _footer = this.footer ? parseInt(this.footHeight) : 0 return &#123; height: `calc(100% - $&#123;_header + _footer&#125;px)`, background: this.bgColor &#125; &#125; &#125;, mounted () &#123; let self = this this.mouseMoveHandle = function (e) &#123; if (self.position &amp;&amp; self.dist.isMove) &#123; let x = e.pageX - self.dist.disX let y = e.pageY - self.dist.disY self.$refs.model.style.left = self.dist.left + x + 'px' self.$refs.model.style.top = self.dist.top + y + 'px' &#125; &#125; this.mouseUpHandle = function () &#123; if (self.position &amp;&amp; self.dist.isMove) &#123; self.dist.isMove = false &#125; &#125; window.document.addEventListener('mousemove', this.mouseMoveHandle, false) window.document.addEventListener('mouseup', this.mouseUpHandle, false) &#125;, methods: &#123; _removeEvents () &#123; window.document.removeEventListener('mousemove', this.mouseMoveHandle, false) window.document.removeEventListener('mouseup', this.mouseUpHandle, false) &#125;, onMouseDownHandle (e) &#123; if (!this.position) &#123; return &#125; this.dist.isMove = true this.dist.disX = e.pageX this.dist.disY = e.pageY this.dist.top = parseInt(this.$refs.model.style.top) this.dist.left = parseInt(this.$refs.model.style.left) &#125;, onCancelHandle () &#123; this.$emit('on-close') &#125;, onSaveHandle () &#123; if (!this.loading) &#123; this.$emit('on-save') &#125; &#125;, onFullHandle () &#123; this.fullFlag = !this.fullFlag if (this.fullFlag) &#123; this.$refs.model.style.cssText = `width: $&#123;window.innerWidth&#125;px; height: $&#123;window.innerHeight&#125;px; top: 0; left: 0; z-index: 9999; border-radius: 0; border: none;` &#125; else &#123; this.$refs.model.style.cssText = `width: $&#123;this.width&#125;px; height: $&#123;this.height&#125;px;` &#125; this.$emit('on-full', this.fullFlag) &#125;, onCloseHandle ($event) &#123; if (['iv-custom-mask', 'close omd omd-close'].includes($event.target.className)) &#123; this.$emit('on-close') &#125; &#125; &#125;&#125;&lt;/script&gt;&lt;style lang="less" scoped&gt;@borderColor: #e1e1e1;.iv-custom-mask&#123; position: absolute; top: 0; left: 0; right: 0; bottom: 0; overflow: hidden; z-index: 2;&#125;.iv-custom-model&#123; position: absolute; border: none; margin: auto; top: 0; left: 0; right: 0; bottom: 0; overflow: hidden; border-radius: 6px; box-shadow: 0 4px 12px rgba(0,0,0,.15); &amp;__header&#123; background: #fff; border-bottom: 1px solid @borderColor; position: relative; .title-icon&#123; margin: -7px 0 0 15px; &#125; &amp;-title&#123; width: auto; font-weight: normal; padding: 0 15px; display: inline-block; &#125; .close&#123; position: absolute; font-size: 22px; top: 12px; right: 12px; cursor: pointer; &#125; .full&#123; position: absolute; font-size: 20px; top: 13px; right: 38px; cursor: pointer; &#125; &#125; &amp;__main&#123; box-sizing: border-box; padding: 15px; overflow: auto; &#125; &amp;__footer&#123; display: flex; background: #fff; border-top: 1px solid @borderColor; text-align: right; padding: 0 15px; &amp;-prefix&#123; flex: 1; text-align: left; &#125; &amp;-btns&#123; width: auto; &#125; &#125;&#125;&lt;/style&gt;]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>javscript</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯æ•°æ®æ ¡éªŒä»Žå»ºæ¨¡å¼€å§‹]]></title>
    <url>%2F2019%2F07%2F31%2F%E5%89%8D%E7%AB%AF%E6%95%B0%E6%8D%AE%E6%A0%A1%E9%AA%8C%E4%BB%8E%E5%BB%BA%E6%A8%A1%E5%BC%80%E5%A7%8B%2F</url>
    <content type="text"><![CDATA[å‰ç«¯å¼€å‘è¿‡ç¨‹ä¸­ä½ ä»¬è§‰å¾—å¤„ç†ä»€ä¹ˆä¸šåŠ¡åŠŸèƒ½æœ€çƒ¦äººï¼Ÿåšå‰ç«¯å·²ç»æœ‰å¾ˆé•¿ä¸€æ®µæ—¶é—´äº†ï¼Œä¸çŸ¥é“å¤§å®¶æ˜¯å¦å’Œæˆ‘æœ‰åŒæ ·çš„æ„Ÿå—ï¼Œåœ¨ä¸€äº› Web åº”ç”¨ä¸­è¡¨å•å¤„ç†èµ·æ¥æ¯”å…¶ä»–åŠŸèƒ½æ¨¡å—éƒ½éº»çƒ¦ï¼Œå¾ˆå¤šä½“åŠ›æ´»ï¼Œå¾€å¾€åœ¨æ•°æ®çš„æ ¡éªŒä¼šå¾ˆè´¹æ—¶é—´ã€‚ä¸ºäº†èƒ½å¤ŸæŠŠè¿™éƒ¨åˆ†ä»£ç æ›´æœ‰æ¡ç†,æˆ‘ä»¬æŠŠæ•°æ®æ ¡éªŒéƒ¨åˆ†é€šè¿‡ Schema é¢„å…ˆå®šä¹‰ä¸€ä¸ªæ•°æ®æ¨¡åž‹ï¼ŒæŠŠæ•°æ®æ‰”è¿›åŽ»ï¼Œè¿”å›žæ ¡éªŒç»“æžœã€‚æŽ¥ä¸‹æ¥æˆ‘ä»‹ç»ä¸€ä¸‹è¿™ä¸ªå·¥å…·ï¼Œschema-typed æ˜¯ä¸€ä¸ªæ•°æ®å»ºæ¨¡åŠæ•°æ®éªŒè¯å·¥å…·, å®ƒå¯ä»¥éžå¸¸æ–¹ä¾¿çš„è®¾è®¡çš„è¡¨å•æ•°æ®ç»“æž„ï¼Œå½“ç„¶å®ƒä¸é™äºŽåœ¨è¡¨å•ä½¿ç”¨ã€‚å¦‚æžœä½ åœ¨äº§å“ä¸­ä½¿ç”¨äº† React , é‚£é…åˆ React Suite çš„è¡¨å•ç»„ä»¶ç®€ç›´å°±æ˜¯å¦‚è™Žæ·»ç¿¼ã€‚ å®‰è£… npm install schema-typed â€“save ç¤ºä¾‹123456789101112131415import &#123; SchemaModel, StringType, DateType, NumberType &#125; from 'schema-typed';const model = SchemaModel(&#123; username: StringType().isRequired('ç”¨æˆ·åä¸èƒ½ä¸ºç©º'), email: StringType().isEmail('è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±'), age: NumberType('å¹´é¾„åº”è¯¥æ˜¯ä¸€ä¸ªæ•°å­—').range(18, 30, 'å¹´é¾„åº”è¯¥åœ¨ 18 åˆ° 30 å²ä¹‹é—´')&#125;);const checkResult = model.check(&#123; username: 'foobar', email: 'foo@bar.com', age: 40&#125;);console.log(checkResult); checkResult è¿”å›žç»“æž„æ˜¯:12345&#123; username: &#123; hasError: false &#125;, email: &#123; hasError: false &#125;, age: &#123; hasError: true, errorMessage: 'å¹´é¾„åº”è¯¥åœ¨ 18 åˆ° 30 å²ä¹‹é—´' &#125;&#125; å¤šé‡éªŒè¯1234StringType() .minLength(6, 'ä¸èƒ½å°‘äºŽ 6 ä¸ªå­—ç¬¦') .maxLength(30, 'ä¸èƒ½å¤§äºŽ 30 ä¸ªå­—ç¬¦') .isRequired('è¯¥å­—æ®µä¸èƒ½ä¸ºç©º'); è‡ªå®šä¹‰éªŒè¯é€šè¿‡ addRule å‡½æ•°è‡ªå®šä¹‰ä¸€ä¸ªè§„åˆ™ã€‚ å¦‚æžœæ˜¯å¯¹ä¸€ä¸ªå­—ç¬¦ä¸²ç±»åž‹çš„æ•°æ®è¿›è¡ŒéªŒè¯ï¼Œå¯ä»¥é€šè¿‡ pattern æ–¹æ³•è®¾ç½®ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œè‡ªå®šä¹‰éªŒè¯ã€‚ 123456789101112131415161718192021const model = SchemaModel(&#123; field1: StringType().addRule((value, data) =&gt; &#123; return /^[1-9][0-9]&#123;3&#125;\s?[a-zA-Z]&#123;2&#125;$/.test(value); &#125;, 'è¯·è¾“å…¥åˆæ³•å­—ç¬¦'), field2: StringType().pattern(/^[1-9][0-9]&#123;3&#125;\s?[a-zA-Z]&#123;2&#125;$/, 'è¯·è¾“å…¥åˆæ³•å­—ç¬¦')&#125;);model.check(&#123; field1: '', field2: '' &#125;);/**&#123; field1: &#123; hasError: true, errorMessage: 'è¯·è¾“å…¥åˆæ³•å­—ç¬¦' &#125;, field2: &#123; hasError: true, errorMessage: 'è¯·è¾“å…¥åˆæ³•å­—ç¬¦' &#125;&#125;;**/ è‡ªå®šä¹‰éªŒè¯ - å¤šå­—æ®µäº¤å‰éªŒè¯ä¾‹å¦‚ï¼ŒéªŒè¯ä¸¤æ¬¡è¾“å…¥å¯†ç æ˜¯å¦ä¸€è‡´ 123456789101112131415161718192021const model = SchemaModel(&#123; password1: StringType().isRequired('è¯¥å­—æ®µä¸èƒ½ä¸ºç©º'), password2: StringType().addRule((value, data) =&gt; &#123; if (value !== data.password1) &#123; return false; &#125; return true; &#125;, 'ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´')&#125;);model.check(&#123; password1: '123456', password2: 'root' &#125;);/**&#123; password1: &#123; hasError: false &#125;, password2: &#123; hasError: true, errorMessage: 'ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´' &#125;&#125;;**/ åµŒå¥—å¯¹è±¡å¯¹äºŽå¤æ‚çš„åµŒå¥—çš„ Object , å¯ä»¥ä½¿ç”¨ ObjectType().shape æ–¹æ³•è¿›è¡Œå®šä¹‰ï¼Œæ¯”å¦‚ï¼š 123456789const model = SchemaModel(&#123; id: NumberType().isRequired('è¯¥å­—æ®µä¸èƒ½ä¸ºç©º'), name: StringType().isRequired('ç”¨æˆ·åä¸èƒ½ä¸ºç©º'), info: ObjectType().shape(&#123; email: StringType().isEmail('åº”è¯¥æ˜¯ä¸€ä¸ª email'), age: numberType().min(18, 'å¹´é¾„åº”è¯¥å¤§äºŽ18å²') &#125;);&#125;); å¦å¤–ï¼Œæ›´æŽ¨èæŠŠå¯¹è±¡æ‰å¹³åŒ–è®¾è®¡ 12345678910111213141516171819import &#123; flaser &#125; from 'object-flaser';const model = SchemaModel(&#123; id: NumberType().isRequired('è¯¥å­—æ®µä¸èƒ½ä¸ºç©º'), name: StringType().isRequired('ç”¨æˆ·åä¸èƒ½ä¸ºç©º'), 'info.email': StringType().isEmail('åº”è¯¥æ˜¯ä¸€ä¸ª email'), 'info.age': numberType().min(18, 'å¹´é¾„åº”è¯¥å¤§äºŽ18å²')&#125;);const user = flaser(&#123; id: 1, name: 'schema-type', info: &#123; email: 'schema-type@gmail.com', age: 17 &#125;&#125;);model.check(data); ç»„åˆSchemaModel æä¾›äº†ä¸€ä¸ªé™æ€æ–¹æ³• combine, å¯ä»¥å¯¹å¤šä¸ª SchemaModel åˆå¹¶è¿”å›žä¸€ä¸ªæ–°çš„ SchemaModelã€‚ 12345678910111213141516171819202122const model1 = SchemaModel(&#123; username: StringType().isRequired('ç”¨æˆ·åä¸èƒ½ä¸ºç©º'), email: StringType().isEmail('è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±')&#125;);const model2 = SchemaModel(&#123; username: StringType().minLength(7, 'æœ€å°‘7ä¸ªå­—ç¬¦'), age: NumberType().range(18, 30, 'å¹´åº”è¯¥åœ¨ 18 åˆ° 30 å²')&#125;);const model3 = SchemaModel(&#123; groupId: NumberType().isRequired('è¯¥å­—æ®µä¸èƒ½ä¸ºç©º')&#125;);const model4 = SchemaModel.combine(model1, model2, model3);model4.check(&#123; username: 'foobar', email: 'foo@bar.com', age: 40, groupId: 1&#125;); API SchemaModel StringType NumberType ArrayType DateType ObjectType BooleanType SchemaModelcheck(data: Object)123456789const model = SchemaModel(&#123; username: StringType().isRequired('è¯¥å­—æ®µä¸èƒ½ä¸ºç©º'), email: StringType().isEmail('è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±')&#125;);model.check(&#123; username: 'root', email: 'root@email.com'&#125;); checkForField(fieldName: string, fieldValue: any, data: Object) 12345const model = SchemaModel(&#123; username: StringType().isRequired('è¯¥å­—æ®µä¸èƒ½ä¸ºç©º'), email: StringType().isEmail('è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±')&#125;);model.checkForField('username', 'root'); StringType isRequired(errorMessage: string) StringType().isRequired(â€˜è¯¥å­—æ®µä¸èƒ½ä¸ºç©ºâ€™); isEmail(errorMessage: string) StringType().isEmail(â€˜è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±åœ°å€â€™); isURL(errorMessage: string) StringType().isURL(â€˜è¯·è¾“å…¥æ­£ç¡®çš„URLåœ°å€â€™); isOneOf(items: Array, errorMessage: string) StringType().isOneOf([â€˜Javascriptâ€™, â€˜CSSâ€™], â€˜åªèƒ½è¾“å…¥ Javascriptå’Œ CSSâ€˜); containsLetter(errorMessage: string) StringType().containsLetter(â€˜å¿…é¡»åŒ…å«è‹±æ–‡å­—ç¬¦â€™); containsUppercaseLetter(errorMessage: string) StringType().containsUppercaseLetter(â€˜å¿…é¡»åŒ…å«å¤§å†™çš„è‹±æ–‡å­—ç¬¦â€™); containsLowercaseLetter(errorMessage: string) StringType().containsLowercaseLetter(â€˜å¿…é¡»åŒ…å«å°å†™çš„è‹±æ–‡å­—ç¬¦â€™); containsLetterOnly(errorMessage: string) StringType().containsLetterOnly(â€˜åªèƒ½åŒ…å«çš„è‹±æ–‡å­—ç¬¦â€™); containsNumber(errorMessage: string) StringType().containsNumber(â€˜å¿…é¡»åŒ…å«æ•°å­—â€™); pattern(regExp: RegExp, errorMessage: string) StringType().pattern(/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/, â€˜è¯·è¾“å…¥åˆæ³•å­—ç¬¦â€™); rangeLength(minLength: number, maxLength: number, errorMessage: string) StringType().rangeLength(6, 30, â€˜å­—ç¬¦ä¸ªæ•°åªèƒ½åœ¨ 6 - 30 ä¹‹é—´â€™); minLength(minLength: number, errorMessage: string) StringType().minLength(6, â€˜æœ€å°éœ€è¦6ä¸ªå­—ç¬¦â€™); maxLength(maxLength: number, errorMessage: string) StringType().minLength(30, â€˜æœ€å¤§åªèƒ½30ä¸ªå­—ç¬¦â€™); addRule(onValid: Function, errorMessage: string) StringType().addRule((value, data) =&gt; { return /^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(value);}, â€˜è¯·è¾“å…¥åˆæ³•å­—ç¬¦â€™); NumberType isRequired(errorMessage: string) NumberType().isRequired(â€˜è¯¥å­—æ®µå¿…å¡«â€™); isInteger(errorMessage: string) NumberType().isInteger(â€˜åªèƒ½æ˜¯æ•´åž‹â€™); isOneOf(items: Array, errorMessage: string) NumberType().isOneOf([5, 10, 15], â€˜åªèƒ½æ˜¯5,10,15â€˜); pattern(regExp: RegExp, errorMessage: string) NumberType().pattern(/^[1-9][0-9]{3}$/, â€˜è¯·è¾“å…¥åˆæ³•å­—ç¬¦â€™); range(minLength: number, maxLength: number, errorMessage: string) NumberType().range(18, 40, â€˜è¯·è¾“å…¥ 18 - 40 ä¹‹é—´çš„æ•°å­—â€™); min(min: number, errorMessage: string) NumberType().min(18, â€˜æœ€å°å€¼ 18â€™); max(max: number, errorMessage: string) NumberType().max(40, â€˜æœ€å¤§å€¼ 40â€™); addRule(onValid: Function, errorMessage: string) NumberType().addRule((value, data) =&gt; { return value % 5 === 0;}, â€˜è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—â€™); ArrayType isRequired(errorMessage: string) ArrayType().isRequired(â€˜è¯¥å­—æ®µå¿…å¡«â€™); rangeLength(minLength: number, maxLength: number, errorMessage: string) ArrayType().rangeLength(1, 3, â€˜è‡³å°‘é€‰æ‹©1ä¸ªï¼Œä½†ä¸èƒ½è¶…è¿‡3ä¸ªâ€™); minLength(minLength: number, errorMessage: string) ArrayType().minLength(1, â€˜è‡³å°‘é€‰æ‹©1ä¸ªâ€™); maxLength(maxLength: number, errorMessage: string) ArrayType().maxLength(3, â€˜ä¸èƒ½è¶…è¿‡3ä¸ªâ€™); unrepeatable(errorMessage: string) ArrayType().unrepeatable(â€˜ä¸èƒ½å‡ºçŽ°é‡å¤é€‰é¡¹â€™); of(type: Object, errorMessage: string) ArrayType().of(StringType().isEmail(), â€˜æ ¼å¼é”™è¯¯â€™); addRule(onValid: Function, errorMessage: string) ArrayType().addRule((value, data) =&gt; { return value.length % 2 === 0;}, â€˜å¥½äº‹æˆåŒâ€™); DateType isRequired(errorMessage: string) DateType().isRequired(â€˜æ—¥æœŸä¸èƒ½ä¸ºç©ºâ€™); range(min: Date, max: Date, errorMessage: string) DateType().range( new Date(â€˜08/01/2017â€™), new Date(â€˜08/30/2017â€™), â€˜æ—¶é—´åº”è¯¥åœ¨ 08/01/2017 - 08/30/2017 ä¹‹é—´â€™); min(min: Date, errorMessage: string) DateType().min(new Date(â€˜08/01/2017â€™), â€˜æ—¶é—´çš„æœ€å°å€¼ 08/01/2017â€™); max(max: Date, errorMessage: string) DateType().max(new Date(â€˜08/30/2017â€™), â€˜æ—¶é—´çš„æœ€å¤§å€¼ 08/30/2017â€™); addRule(onValid: Function, errorMessage: string) DateType().addRule((value, data) =&gt; { return value.getDay() === 2;}, â€˜åªèƒ½é€‰æ‹©å‘¨äºŒâ€™); ObjectType isRequired(errorMessage: string) ObjectType().isRequired(â€˜è¯¥å¯¹è±¡ä¸èƒ½ä¸ºç©ºâ€™); shape(type: Object) ObjectType().shape({ email: StringType().isEmail(â€˜åº”è¯¥æ˜¯ä¸€ä¸ª emailâ€™), age: numberType().min(18, â€˜å¹´é¾„åº”è¯¥å¤§äºŽ18å²â€™)}); addRule(onValid: Function, errorMessage: string) ObjectType().addRule((value, data) =&gt; { if (value.id || value.email) { return true; } return false;}, â€˜id ä¸Ž email å¿…é¡»æœ‰ä¸€ä¸ªä¸èƒ½ä¸ºç©ºâ€™); BooleanType isRequired(errorMessage: string) BooleanType().isRequired(â€˜è¯¥å­—æ®µä¸èƒ½ä¸ºç©ºâ€™); addRule(onValid: Function, errorMessage: string) ObjectType().addRule((value, data) =&gt; { if (typeof value === â€˜undefinedâ€™ &amp;&amp; A === 10) { return false; } return true;}, â€˜å½“ A ç­‰äºŽ 10 çš„æ—¶å€™ï¼Œè¯¥å€¼å¿…é¡»ä¸ºç©ºâ€™);]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[48ä¸ªJSå¼€å‘å¸¸ç”¨å·¥å…·å‡½æ•°]]></title>
    <url>%2F2019%2F07%2F05%2F48%E4%B8%AAJS%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0%2F</url>
    <content type="text"><![CDATA[48ä¸ªJSå¼€å‘å¸¸ç”¨å·¥å…·å‡½æ•°isStaticï¼šæ£€æµ‹æ•°æ®æ˜¯ä¸æ˜¯é™¤äº†symbolå¤–çš„åŽŸå§‹æ•°æ®123456789function isStatic(value) &#123; return( typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean' || typeof value === 'undefined' || value === null )&#125; isPrimitiveï¼šæ£€æµ‹æ•°æ®æ˜¯ä¸æ˜¯åŽŸå§‹æ•°æ®123function isPrimitive(value) &#123; return isStatic(value) || typeof value === 'symbol'&#125; isObjectï¼šåˆ¤æ–­æ•°æ®æ˜¯ä¸æ˜¯å¼•ç”¨ç±»åž‹çš„æ•°æ® (ä¾‹å¦‚ï¼š arrays, functions, objects, regexes, new Number(0),ä»¥åŠ new String(â€˜â€™))1234function isObject(value) &#123; let type = typeof value; return value != null &amp;&amp; (type == 'object' || type == 'function');&#125; isObjectLikeï¼šæ£€æŸ¥ value æ˜¯å¦æ˜¯ ç±»å¯¹è±¡ã€‚ å¦‚æžœä¸€ä¸ªå€¼æ˜¯ç±»å¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒä¸åº”è¯¥æ˜¯ nullï¼Œè€Œä¸” typeof åŽçš„ç»“æžœæ˜¯ â€œobjectâ€123function isObjectLike(value) &#123; return value != null &amp;&amp; typeof value == 'object';&#125; getRawTypeï¼šèŽ·å–æ•°æ®ç±»åž‹ï¼Œè¿”å›žç»“æžœä¸º Numberã€Stringã€Objectã€Arrayç­‰1234function getRawType(value) &#123; return Object.prototype.toString.call(value).slice(8, -1)&#125;//getoRawType([]) ==&gt; Array isPlainObjectï¼šåˆ¤æ–­æ•°æ®æ˜¯ä¸æ˜¯Objectç±»åž‹çš„æ•°æ®123function isPlainObject(obj) &#123; return Object.prototype.toString.call(obj) === '[object Object]'&#125; isArrayï¼šåˆ¤æ–­æ•°æ®æ˜¯ä¸æ˜¯æ•°ç»„ç±»åž‹çš„æ•°æ®12345function isArray(arr) &#123; return Object.prototype.toString.call(arr) === '[object Array]'&#125;å°†isArrayæŒ‚è½½åˆ°Arrayä¸ŠArray.isArray = Array.isArray || isArray; isRegExpï¼šåˆ¤æ–­æ•°æ®æ˜¯ä¸æ˜¯æ­£åˆ™å¯¹è±¡123function isRegExp(value) &#123; return Object.prototype.toString.call(value) === '[object RegExp]'&#125; isDateï¼šåˆ¤æ–­æ•°æ®æ˜¯ä¸æ˜¯æ—¶é—´å¯¹è±¡123function isDate(value) &#123; return Object.prototype.toString.call(value) === '[object Date]'&#125; isNativeï¼šåˆ¤æ–­ value æ˜¯ä¸æ˜¯æµè§ˆå™¨å†…ç½®å‡½æ•°å†…ç½®å‡½æ•°toStringåŽçš„ä¸»ä½“ä»£ç å—ä¸º [native code] ï¼Œè€Œéžå†…ç½®å‡½æ•°åˆ™ä¸ºç›¸å…³ä»£ç ï¼Œæ‰€ä»¥éžå†…ç½®å‡½æ•°å¯ä»¥è¿›è¡Œæ‹·è´(toStringåŽæŽå¤´åŽ»å°¾å†ç”±Functionè½¬)123function isNative(value) &#123; return typeof value === 'function' &amp;&amp; /native code/.test(value.toString())&#125; isFunctionï¼šæ£€æŸ¥ value æ˜¯ä¸æ˜¯å‡½æ•°123function isFunction(value) &#123; return Object.prototype.toString.call(value) === '[object Function]'&#125; isLengthï¼šæ£€æŸ¥ value æ˜¯å¦ä¸ºæœ‰æ•ˆçš„ç±»æ•°ç»„é•¿åº¦123function isLength(value) &#123; return typeof value == 'number' &amp;&amp; value &gt; -1 &amp;&amp; value % 1 == 0 &amp;&amp; value &lt;= Number.MAX_SAFE_INTEGER;&#125; isArrayLikeï¼šæ£€æŸ¥ value æ˜¯å¦æ˜¯ç±»æ•°ç»„å¦‚æžœä¸€ä¸ªå€¼è¢«è®¤ä¸ºæ˜¯ç±»æ•°ç»„ï¼Œé‚£ä¹ˆå®ƒä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”value.lengthæ˜¯ä¸ªæ•´æ•°ï¼Œå¤§äºŽç­‰äºŽ 0ï¼Œå°äºŽæˆ–ç­‰äºŽ Number.MAX_SAFE_INTEGERã€‚è¿™é‡Œå­—ç¬¦ä¸²ä¹Ÿå°†è¢«å½“ä½œç±»æ•°ç»„ã€‚123function isArrayLike(value) &#123; return value != null &amp;&amp; isLength(value.length) &amp;&amp; !isFunction(value);&#125; isEmptyï¼šæ£€æŸ¥ value æ˜¯å¦ä¸ºç©ºå¦‚æžœæ˜¯nullï¼Œç›´æŽ¥è¿”å›žtrueï¼›å¦‚æžœæ˜¯ç±»æ•°ç»„ï¼Œåˆ¤æ–­æ•°æ®é•¿åº¦ï¼›å¦‚æžœæ˜¯Objectå¯¹è±¡ï¼Œåˆ¤æ–­æ˜¯å¦å…·æœ‰å±žæ€§ï¼›å¦‚æžœæ˜¯å…¶ä»–æ•°æ®ï¼Œç›´æŽ¥è¿”å›žfalse(ä¹Ÿå¯æ”¹ä¸ºè¿”å›žtrue)123456789101112131415function isEmpty(value) &#123; if (value == null) &#123; return true; &#125; if (isArrayLike(value)) &#123; return !value.length; &#125;else if(isPlainObject(value))&#123; for (let key in value) &#123; if (hasOwnProperty.call(value, key)) &#123; return false; &#125; &#125; &#125; return false;&#125; cachedï¼šè®°å¿†å‡½æ•°ï¼šç¼“å­˜å‡½æ•°çš„è¿ç®—ç»“æžœ1234567function cached(fn) &#123; let cache = Object.create(null); return function cachedFn(str) &#123; let hit = cache[str]; return hit || (cache[str] = fn(str)) &#125;&#125; camelizeï¼šæ¨ªçº¿è½¬é©¼å³°å‘½å123456789let camelizeRE = /-(\w)/g;function camelize(str) &#123; return str.replace(camelizeRE, function(_, c) &#123; return c ? c.toUpperCase() : ''; &#125;)&#125;//ab-cd-ef ==&gt; abCdEf//ä½¿ç”¨è®°å¿†å‡½æ•°let _camelize = cached(camelize) hyphenateï¼šé©¼å³°å‘½åè½¬æ¨ªçº¿å‘½åï¼šæ‹†åˆ†å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ - ç›¸è¿žï¼Œå¹¶ä¸”è½¬æ¢ä¸ºå°å†™1234567let hyphenateRE = /\B([A-Z])/g;function hyphenate(str)&#123; return str.replace(hyphenateRE, '-$1').toLowerCase()&#125;//abCd ==&gt; ab-cd//ä½¿ç”¨è®°å¿†å‡½æ•°let _hyphenate = cached(hyphenate); capitalizeï¼šå­—ç¬¦ä¸²é¦–ä½å¤§å†™123456function capitalize(str)&#123; return str.charAt(0).toUpperCase() + str.slice(1)&#125;// abc ==&gt; Abc//ä½¿ç”¨è®°å¿†å‡½æ•°let _capitalize = cached(capitalize) extendï¼šå°†å±žæ€§æ··åˆåˆ°ç›®æ ‡å¯¹è±¡ä¸­123456function extend(to, _from) &#123; for(let key in _from) &#123; to[key] = _from[key]; &#125; return to&#125; Object.assignï¼šå¯¹è±¡å±žæ€§å¤åˆ¶ï¼Œæµ…æ‹·è´1234567891011121314151617Object.assign = Object.assign || function()&#123; if(arguments.length == 0) throw new TypeError('Cannot convert undefined or null to object'); let target = arguments[0], args = Array.prototype.slice.call(arguments, 1), key args.forEach(function(item)&#123; for(key in item)&#123; item.hasOwnProperty(key) &amp;&amp; ( target[key] = item[key] ) &#125; &#125;) return target&#125;ä½¿ç”¨Object.assignå¯ä»¥æµ…å…‹éš†ä¸€ä¸ªå¯¹è±¡ï¼šlet clone = Object.assign(&#123;&#125;, target)ç®€å•çš„æ·±å…‹éš†å¯ä»¥ä½¿ç”¨JSON.parse()å’ŒJSON.stringify()ï¼Œè¿™ä¸¤ä¸ªapiæ˜¯è§£æžjsonæ•°æ®çš„ï¼Œæ‰€ä»¥åªèƒ½è§£æžé™¤symbolå¤–çš„åŽŸå§‹ç±»åž‹åŠæ•°ç»„å’Œå¯¹è±¡let clone = JSON.parse( JSON.stringify(target) ) cloneï¼šå…‹éš†æ•°æ®ï¼Œå¯æ·±åº¦å…‹éš†è¿™é‡Œåˆ—å‡ºäº†åŽŸå§‹ç±»åž‹ï¼Œæ—¶é—´ã€æ­£åˆ™ã€é”™è¯¯ã€æ•°ç»„ã€å¯¹è±¡çš„å…‹éš†è§„åˆ™ï¼Œå…¶ä»–çš„å¯è‡ªè¡Œè¡¥å……123456789101112131415161718192021222324function clone(value, deep)&#123; if(isPrimitive(value))&#123; return value &#125; if (isArrayLike(value)) &#123; //æ˜¯ç±»æ•°ç»„ value = Array.prototype.slice.call(value) return value.map(item =&gt; deep ? clone(item, deep) : item) &#125;else if(isPlainObject(value))&#123; //æ˜¯å¯¹è±¡ let target = &#123;&#125;, key; for (key in value) &#123; value.hasOwnProperty(key) &amp;&amp; ( target[key] = deep ? clone(value[key], deep) : value[key] ) &#125; &#125; let type = getRawType(value) switch(type)&#123; case 'Date': case 'RegExp': case 'Error': value = new window[type](value); break; &#125; return value&#125; è¯†åˆ«å„ç§æµè§ˆå™¨åŠå¹³å°12345678910111213//è¿è¡ŒçŽ¯å¢ƒæ˜¯æµè§ˆå™¨let inBrowser = typeof window !== 'undefined';//è¿è¡ŒçŽ¯å¢ƒæ˜¯å¾®ä¿¡let inWeex = typeof WXEnvironment !== 'undefined' &amp;&amp; !!WXEnvironment.platform;let weexPlatform = inWeex &amp;&amp; WXEnvironment.platform.toLowerCase();//æµè§ˆå™¨ UA åˆ¤æ–­let UA = inBrowser &amp;&amp; window.navigator.userAgent.toLowerCase();let isIE = UA &amp;&amp; /msie|trident/.test(UA);let isIE9 = UA &amp;&amp; UA.indexOf('msie 9.0') &gt; 0;let isEdge = UA &amp;&amp; UA.indexOf('edge/') &gt; 0;let isAndroid = (UA &amp;&amp; UA.indexOf('android') &gt; 0) || (weexPlatform === 'android');let isIOS = (UA &amp;&amp; /iphone|ipad|ipod|ios/.test(UA)) || (weexPlatform === 'ios');let isChrome = UA &amp;&amp; /chrome\/\d+/.test(UA) &amp;&amp; !isEdge; getExplorerInfoï¼šèŽ·å–æµè§ˆå™¨ä¿¡æ¯12345678910111213141516171819202122232425262728function getExplorerInfo() &#123; let t = navigator.userAgent.toLowerCase(); return 0 &lt;= t.indexOf("msie") ? &#123; //ie &lt; 11 type: "IE", version: Number(t.match(/msie ([\d]+)/)[1]) &#125; : !!t.match(/trident\/.+?rv:(([\d.]+))/) ? &#123; // ie 11 type: "IE", version: 11 &#125; : 0 &lt;= t.indexOf("edge") ? &#123; type: "Edge", version: Number(t.match(/edge\/([\d]+)/)[1]) &#125; : 0 &lt;= t.indexOf("firefox") ? &#123; type: "Firefox", version: Number(t.match(/firefox\/([\d]+)/)[1]) &#125; : 0 &lt;= t.indexOf("chrome") ? &#123; type: "Chrome", version: Number(t.match(/chrome\/([\d]+)/)[1]) &#125; : 0 &lt;= t.indexOf("opera") ? &#123; type: "Opera", version: Number(t.match(/opera.([\d]+)/)[1]) &#125; : 0 &lt;= t.indexOf("Safari") ? &#123; type: "Safari", version: Number(t.match(/version\/([\d]+)/)[1]) &#125; : &#123; type: t, version: -1 &#125;&#125; isPCBroswerï¼šæ£€æµ‹æ˜¯å¦ä¸ºPCç«¯æµè§ˆå™¨æ¨¡å¼123456789101112function isPCBroswer() &#123; let e = navigator.userAgent.toLowerCase() , t = "ipad" == e.match(/ipad/i) , i = "iphone" == e.match(/iphone/i) , r = "midp" == e.match(/midp/i) , n = "rv:1.2.3.4" == e.match(/rv:1.2.3.4/i) , a = "ucweb" == e.match(/ucweb/i) , o = "android" == e.match(/android/i) , s = "windows ce" == e.match(/windows ce/i) , l = "windows mobile" == e.match(/windows mobile/i); return !(t || i || r || n || a || o || s || l)&#125; uniqueï¼šæ•°ç»„åŽ»é‡ï¼Œè¿”å›žä¸€ä¸ªæ–°æ•°ç»„12345678910111213141516171819202122232425function unique(arr)&#123; if(!isArrayLink(arr))&#123; //ä¸æ˜¯ç±»æ•°ç»„å¯¹è±¡ return arr &#125; let result = [] let objarr = [] let obj = Object.create(null) arr.forEach(item =&gt; &#123; if(isStatic(item))&#123;//æ˜¯é™¤äº†symbolå¤–çš„åŽŸå§‹æ•°æ® let key = item + '_' + getRawType(item); if(!obj[key])&#123; obj[key] = true result.push(item) &#125; &#125;else&#123;//å¼•ç”¨ç±»åž‹åŠsymbol if(!objarr.includes(item))&#123; objarr.push(item) result.push(item) &#125; &#125; &#125;) return resulte&#125; Setç®€å•å®žçŽ°12345678910111213141516171819202122232425262728293031323334353637383940window.Set = window.Set || (function () &#123; function Set(arr) &#123; this.items = arr ? unique(arr) : []; this.size = this.items.length; // Arrayçš„å¤§å° &#125; Set.prototype = &#123; add: function (value) &#123; // æ·»åŠ å…ƒç´ ,è‹¥å…ƒç´ å·²å­˜åœ¨,åˆ™è·³è¿‡ï¼Œè¿”å›ž Set ç»“æž„æœ¬èº«ã€‚ if (!this.has(value)) &#123; this.items.push(value); this.size++; &#125; return this; &#125;, clear: function () &#123; //æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›žå€¼ã€‚ this.items = [] this.size = 0 &#125;, delete: function (value) &#123; //åˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚ return this.items.some((v, i) =&gt; &#123; if(v === value)&#123; this.items.splice(i,1) return true &#125; return false &#125;) &#125;, has: function (value) &#123; //è¿”å›žä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ã€‚ return this.items.some(v =&gt; v === value) &#125;, values: function () &#123; return this.items &#125;, &#125; return Set;&#125;()); repeatï¼šç”Ÿæˆä¸€ä¸ªé‡å¤çš„å­—ç¬¦ä¸²ï¼Œæœ‰nä¸ªstrç»„æˆï¼Œå¯ä¿®æ”¹ä¸ºå¡«å……ä¸ºæ•°ç»„ç­‰1234567891011121314function repeat(str, n) &#123; let res = ''; while(n) &#123; if(n % 2 === 1) &#123; res += str; &#125; if(n &gt; 1) &#123; str += str; &#125; n &gt;&gt;= 1; &#125; return res&#125;;//repeat('123',3) ==&gt; 123123123 dateFormaterï¼šæ ¼å¼åŒ–æ—¶é—´123456789101112131415161718function dateFormater(formater, t)&#123; let date = t ? new Date(t) : new Date(), Y = date.getFullYear() + '', M = date.getMonth() + 1, D = date.getDate(), H = date.getHours(), m = date.getMinutes(), s = date.getSeconds(); return formater.replace(/YYYY|yyyy/g,Y) .replace(/YY|yy/g,Y.substr(2,2)) .replace(/MM/g,(M&lt;10?'0':'') + M) .replace(/DD/g,(D&lt;10?'0':'') + D) .replace(/HH|hh/g,(H&lt;10?'0':'') + H) .replace(/mm/g,(m&lt;10?'0':'') + m) .replace(/ss/g,(s&lt;10?'0':'') + s)&#125;// dateFormater('YYYY-MM-DD HH:mm', t) ==&gt; 2019-06-26 18:30// dateFormater('YYYYMMDDHHmm', t) ==&gt; 201906261830 dateStrFormaï¼šå°†æŒ‡å®šå­—ç¬¦ä¸²ç”±ä¸€ç§æ—¶é—´æ ¼å¼è½¬åŒ–ä¸ºå¦ä¸€ç§fromçš„æ ¼å¼åº”å¯¹åº”strçš„ä½ç½®1234567891011121314151617181920212223242526function dateStrForma(str, from, to)&#123; //'20190626' 'YYYYMMDD' 'YYYYå¹´MMæœˆDDæ—¥' str += '' let Y = '' if(~(Y = from.indexOf('YYYY')))&#123; Y = str.substr(Y, 4) to = to.replace(/YYYY|yyyy/g,Y) &#125;else if(~(Y = from.indexOf('YY')))&#123; Y = str.substr(Y, 2) to = to.replace(/YY|yy/g,Y) &#125; let k,i ['M','D','H','h','m','s'].forEach(s =&gt;&#123; i = from.indexOf(s+s) k = ~i ? str.substr(i, 2) : '' to = to.replace(s+s, k) &#125;) return to&#125;// dateStrForma('20190626', 'YYYYMMDD', 'YYYYå¹´MMæœˆDDæ—¥') ==&gt; 2019å¹´06æœˆ26æ—¥// dateStrForma('121220190626', '----YYYYMMDD', 'YYYYå¹´MMæœˆDDæ—¥') ==&gt; 2019å¹´06æœˆ26æ—¥// dateStrForma('2019å¹´06æœˆ26æ—¥', 'YYYYå¹´MMæœˆDDæ—¥', 'YYYYMMDD') ==&gt; 20190626// ä¸€èˆ¬çš„ä¹Ÿå¯ä»¥ä½¿ç”¨æ­£åˆ™æ¥å®žçŽ°//'2019å¹´06æœˆ26æ—¥'.replace(/(\d&#123;4&#125;)å¹´(\d&#123;2&#125;)æœˆ(\d&#123;2&#125;)æ—¥/, '$1-$2-$3') ==&gt; 2019-06-26 getPropByPathï¼šæ ¹æ®å­—ç¬¦ä¸²è·¯å¾„èŽ·å–å¯¹è±¡å±žæ€§ : â€˜obj[0].countâ€™12345678910111213141516171819202122232425function getPropByPath(obj, path, strict) &#123; let tempObj = obj; path = path.replace(/\[(\w+)\]/g, '.$1'); //å°†[0]è½¬åŒ–ä¸º.0 path = path.replace(/^\./, ''); //åŽ»é™¤å¼€å¤´çš„. let keyArr = path.split('.'); //æ ¹æ®.åˆ‡å‰² let i = 0; for (let len = keyArr.length; i &lt; len - 1; ++i) &#123; if (!tempObj &amp;&amp; !strict) break; let key = keyArr[i]; if (key in tempObj) &#123; tempObj = tempObj[key]; &#125; else &#123; if (strict) &#123;//å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œæ²¡æ‰¾åˆ°å¯¹åº”keyå€¼ï¼ŒæŠ›å‡ºé”™è¯¯ throw new Error('please transfer a valid prop path to form item!'); &#125; break; &#125; &#125; return &#123; o: tempObj, //åŽŸå§‹æ•°æ® k: keyArr[i], //keyå€¼ v: tempObj ? tempObj[keyArr[i]] : null // keyå€¼å¯¹åº”çš„å€¼ &#125;;&#125;; GetUrlParamï¼šèŽ·å–Urlå‚æ•°ï¼Œè¿”å›žä¸€ä¸ªå¯¹è±¡1234567891011121314function GetUrlParam()&#123; let url = document.location.toString(); let arrObj = url.split("?"); let params = Object.create(null) if (arrObj.length &gt; 1)&#123; arrObj = arrObj[1].split("&amp;"); arrObj.forEach(item=&gt;&#123; item = item.split("="); params[item[0]] = item[1] &#125;) &#125; return params;&#125;// ?a=1&amp;b=2&amp;c=3 ==&gt; &#123;a: "1", b: "2", c: "3"&#125; downloadFileï¼šbase64æ•°æ®å¯¼å‡ºæ–‡ä»¶ï¼Œæ–‡ä»¶ä¸‹è½½1234567891011121314151617181920212223function downloadFile(filename, data)&#123; let DownloadLink = document.createElement('a'); if ( DownloadLink )&#123; document.body.appendChild(DownloadLink); DownloadLink.style = 'display: none'; DownloadLink.download = filename; DownloadLink.href = data; if ( document.createEvent )&#123; let DownloadEvt = document.createEvent('MouseEvents'); DownloadEvt.initEvent('click', true, false); DownloadLink.dispatchEvent(DownloadEvt); &#125; else if ( document.createEventObject ) DownloadLink.fireEvent('onclick'); else if (typeof DownloadLink.onclick == 'function' ) DownloadLink.onclick(); document.body.removeChild(DownloadLink); &#125;&#125; toFullScreenï¼šå…¨å±123456789101112function toFullScreen()&#123; let elem = document.body; elem.webkitRequestFullScreen ? elem.webkitRequestFullScreen() : elem.mozRequestFullScreen ? elem.mozRequestFullScreen() : elem.msRequestFullscreen ? elem.msRequestFullscreen() : elem.requestFullScreen ? elem.requestFullScreen() : alert("æµè§ˆå™¨ä¸æ”¯æŒå…¨å±");&#125; exitFullscreenï¼šé€€å‡ºå…¨å±1234567891011121314function exitFullscreen()&#123; let elem = parent.document; elem.webkitCancelFullScreen ? elem.webkitCancelFullScreen() : elem.mozCancelFullScreen ? elem.mozCancelFullScreen() : elem.cancelFullScreen ? elem.cancelFullScreen() : elem.msExitFullscreen ? elem.msExitFullscreen() : elem.exitFullscreen ? elem.exitFullscreen() : alert("åˆ‡æ¢å¤±è´¥,å¯å°è¯•Escé€€å‡º");&#125; requestAnimationFrameï¼šwindowåŠ¨ç”»12345678910111213141516171819window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame || function (callback) &#123; //ä¸ºäº†ä½¿setTimteoutçš„å°½å¯èƒ½çš„æŽ¥è¿‘æ¯ç§’60å¸§çš„æ•ˆæžœ window.setTimeout(callback, 1000 / 60); &#125;; window.cancelAnimationFrame = window.cancelAnimationFrame || Window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.msCancelAnimationFrame || window.oCancelAnimationFrame || function (id) &#123; //ä¸ºäº†ä½¿setTimteoutçš„å°½å¯èƒ½çš„æŽ¥è¿‘æ¯ç§’60å¸§çš„æ•ˆæžœ window.clearTimeout(id); &#125; _isNaNï¼šæ£€æŸ¥æ•°æ®æ˜¯å¦æ˜¯éžæ•°å­—å€¼åŽŸç”Ÿçš„isNaNä¼šæŠŠå‚æ•°è½¬æ¢æˆæ•°å­—(valueof)ï¼Œè€Œnullã€trueã€falseä»¥åŠé•¿åº¦å°äºŽç­‰äºŽ1çš„æ•°ç»„(å…ƒç´ ä¸ºéžNaNæ•°æ®)ä¼šè¢«è½¬æ¢æˆæ•°å­—ï¼Œè¿™ä¸æ˜¯æˆ‘æƒ³è¦çš„ã€‚Symbolç±»åž‹çš„æ•°æ®ä¸å…·æœ‰valueofæŽ¥å£ï¼Œæ‰€ä»¥isNaNä¼šæŠ›å‡ºé”™è¯¯ï¼Œè¿™é‡Œæ”¾åœ¨åŽé¢ï¼Œå¯é¿å…é”™è¯¯123function _isNaN(v)&#123; return !(typeof v === 'string' || typeof v === 'number') || isNaN(v)&#125; maxï¼šæ±‚å–æ•°ç»„ä¸­éžNaNæ•°æ®ä¸­çš„æœ€å¤§å€¼12345function max(arr)&#123; arr = arr.filter(item =&gt; !_isNaN(item)) return arr.length ? Math.max.apply(null, arr) : undefined&#125;//max([1, 2, '11', null, 'fdf', []]) ==&gt; 11 minï¼šæ±‚å–æ•°ç»„ä¸­éžNaNæ•°æ®ä¸­çš„æœ€å°å€¼12345function min(arr)&#123; arr = arr.filter(item =&gt; !_isNaN(item)) return arr.length ? Math.min.apply(null, arr) : undefined&#125;//min([1, 2, '11', null, 'fdf', []]) ==&gt; 1 randomï¼šè¿”å›žä¸€ä¸ªlower - upperä¹‹é—´çš„éšæœºæ•°lowerã€upperæ— è®ºæ­£è´Ÿä¸Žå¤§å°ï¼Œä½†å¿…é¡»æ˜¯éžNaNçš„æ•°æ®12345678function random(lower, upper)&#123; lower = +lower || 0 upper = +upper || 0 return Math.random() * (upper - lower) + lower;&#125;//random(0, 0.5) ==&gt; 0.3567039135734613//random(2, 1) ===&gt; 1.6718418553475423//random(-2, -1) ==&gt; -1.4474325452361945 Object.keysï¼šè¿”å›žä¸€ä¸ªç”±ä¸€ä¸ªç»™å®šå¯¹è±¡çš„è‡ªèº«å¯æžšä¸¾å±žæ€§ç»„æˆçš„æ•°ç»„123456789101112Object.keys = Object.keys || function keys(object) &#123; if(object === null || object === undefined)&#123; throw new TypeError('Cannot convert undefined or null to object'); &#125; let result = [] if(isArrayLike(object) || isPlainObject(object))&#123; for (let key in object) &#123; object.hasOwnProperty(key) &amp;&amp; ( result.push(key) ) &#125; &#125; return result&#125; Object.valuesï¼šè¿”å›žä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æžšä¸¾å±žæ€§å€¼çš„æ•°ç»„123456789101112Object.values = Object.values || function values(object) &#123; if(object === null || object === undefined)&#123; throw new TypeError('Cannot convert undefined or null to object'); &#125; let result = [] if(isArrayLike(object) || isPlainObject(object))&#123; for (let key in object) &#123; object.hasOwnProperty(key) &amp;&amp; ( result.push(object[key]) ) &#125; &#125; return result&#125; arr.fillï¼šä½¿ç”¨ value å€¼æ¥å¡«å…… arrayï¼Œä»Žstartä½ç½®å¼€å§‹, åˆ°endä½ç½®ç»“æŸï¼ˆä½†ä¸åŒ…å«endä½ç½®ï¼‰ï¼Œè¿”å›žåŽŸæ•°ç»„123456789101112131415161718192021222324Array.prototype.fill = Array.prototype.fill || function fill(value, start, end) &#123; let ctx = this let length = ctx.length; start = parseInt(start) if(isNaN(start))&#123; start = 0 &#125;else if (start &lt; 0) &#123; start = -start &gt; length ? 0 : (length + start); &#125; end = parseInt(end) if(isNaN(end) || end &gt; length)&#123; end = length &#125;else if (end &lt; 0) &#123; end += length; &#125; while (start &lt; end) &#123; ctx[start++] = value; &#125; return ctx;&#125;//Array(3).fill(2) ===&gt; [2, 2, 2] arr.includesï¼šç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼Œå¦‚æžœæ˜¯è¿”å›ž trueï¼Œå¦åˆ™falseï¼Œå¯æŒ‡å®šå¼€å§‹æŸ¥è¯¢çš„ä½ç½®123456789101112131415Array.prototype.includes = Array.prototype.includes || function includes(value, start)&#123; let ctx = this let length = ctx.length; start = parseInt(start) if(isNaN(start))&#123; start = 0 &#125;else if (start &lt; 0) &#123; start = -start &gt; length ? 0 : (length + start); &#125; let index = ctx.indexOf(value) return index &gt;= start;&#125; arr.findï¼šè¿”å›žæ•°ç»„ä¸­é€šè¿‡æµ‹è¯•ï¼ˆå‡½æ•°fnå†…åˆ¤æ–­ï¼‰çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼12345678910Array.prototype.find = Array.prototype.find || function find(fn, ctx)&#123; ctx = ctx || this let result; ctx.some((value, index, arr), thisValue) =&gt; &#123; return fn(value, index, arr) ? (result = value, true) : false &#125;) return result&#125; arr.findIndex ï¼šè¿”å›žæ•°ç»„ä¸­é€šè¿‡æµ‹è¯•ï¼ˆå‡½æ•°fnå†…åˆ¤æ–­ï¼‰çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡12345678910Array.prototype.findIndex = Array.prototype.findIndex || function findIndex(fn, ctx)&#123; ctx = ctx || this let result; ctx.some((value, index, arr), thisValue) =&gt; &#123; return fn(value, index, arr) ? (result = index, true) : false &#125;) return result&#125; performance.timingï¼šåˆ©ç”¨performance.timingè¿›è¡Œæ€§èƒ½åˆ†æž12345678910111213141516window.onload = function()&#123; setTimeout(function()&#123; let t = performance.timing console.log('DNSæŸ¥è¯¢è€—æ—¶ ï¼š' + (t.domainLookupEnd - t.domainLookupStart).toFixed(0)) console.log('TCPé“¾æŽ¥è€—æ—¶ ï¼š' + (t.connectEnd - t.connectStart).toFixed(0)) console.log('requestè¯·æ±‚è€—æ—¶ ï¼š' + (t.responseEnd - t.responseStart).toFixed(0)) console.log('è§£æždomæ ‘è€—æ—¶ ï¼š' + (t.domComplete - t.domInteractive).toFixed(0)) console.log('ç™½å±æ—¶é—´ ï¼š' + (t.responseStart - t.navigationStart).toFixed(0)) console.log('domreadyæ—¶é—´ ï¼š' + (t.domContentLoadedEventEnd - t.navigationStart).toFixed(0)) console.log('onloadæ—¶é—´ ï¼š' + (t.loadEventEnd - t.navigationStart).toFixed(0)) if(t = performance.memory)&#123; console.log('jså†…å­˜ä½¿ç”¨å æ¯” ï¼š' + (t.usedJSHeapSize / t.totalJSHeapSize * 100).toFixed(2) + '%') &#125; &#125;)&#125; ç¦æ­¢æŸäº›é”®ç›˜äº‹ä»¶1234567891011document.addEventListener('keydown', function(event)&#123; return !( 112 == event.keyCode || //F1 123 == event.keyCode || //F12 event.ctrlKey &amp;&amp; 82 == event.keyCode || //ctrl + R event.ctrlKey &amp;&amp; 78 == event.keyCode || //ctrl + N event.shiftKey &amp;&amp; 121 == event.keyCode || //shift + F10 event.altKey &amp;&amp; 115 == event.keyCode || //alt + F4 "A" == event.srcElement.tagName &amp;&amp; event.shiftKey //shift + ç‚¹å‡»aæ ‡ç­¾ ) || (event.returnValue = false)&#125;); ç¦æ­¢å³é”®ã€é€‰æ‹©ã€å¤åˆ¶12345['contextmenu', 'selectstart', 'copy'].forEach(function(ev)&#123; document.addEventListener(ev, function(event)&#123; return event.returnValue = false &#125;)&#125;);]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸­çº§å‰ç«¯å·¥ç¨‹å¸ˆå¿…é¡»è¦æŽŒæ¡çš„28ä¸ªJavaScriptæŠ€å·§]]></title>
    <url>%2F2019%2F06%2F04%2F%E4%B8%AD%E7%BA%A7%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%BF%85%E9%A1%BB%E8%A6%81%E6%8E%8C%E6%8F%A1%E7%9A%8428%E4%B8%AAJavaScript%E6%8A%80%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[1.åˆ¤æ–­å¯¹è±¡çš„æ•°æ®ç±»åž‹1234567const isType = type =&gt; target =&gt; `[object $&#123;type&#125;]` === Object.prototype.toString.call(target)const isArray = isType('Array')console.log(isArray([]))&gt; true ä½¿ç”¨ Object.prototype.toString é…åˆé—­åŒ…ï¼Œé€šè¿‡ä¼ å…¥ä¸åŒçš„åˆ¤æ–­ç±»åž‹æ¥è¿”å›žä¸åŒçš„åˆ¤æ–­å‡½æ•°ï¼Œä¸€è¡Œä»£ç ï¼Œç®€æ´ä¼˜é›…çµæ´»ï¼ˆæ³¨æ„ä¼ å…¥ type å‚æ•°æ—¶é¦–å­—æ¯å¤§å†™ï¼‰ ä¸æŽ¨èå°†è¿™ä¸ªå‡½æ•°ç”¨æ¥æ£€æµ‹å¯èƒ½ä¼šäº§ç”ŸåŒ…è£…ç±»åž‹çš„åŸºæœ¬æ•°æ®ç±»åž‹ä¸Š,å› ä¸º call ä¼šå°†ç¬¬ä¸€ä¸ªå‚æ•°è¿›è¡Œè£…ç®±æ“ä½œ]]></content>
      <categories>
        <category>javascriptæŠ€å·§</category>
      </categories>
      <tags>
        <tag>javascript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[flutterèµ„æºæ”¶é›†]]></title>
    <url>%2F2019%2F06%2F03%2Fflutter%E8%B5%84%E6%BA%90%E6%94%B6%E9%9B%86%2F</url>
    <content type="text"><![CDATA[FlutterFlutterèµ„æºæ”¶é›†ï¼ŒæŒç»­æ›´æ–°ï¼Œæ¬¢è¿Žå¤§å®¶æissueæ›´æ–°çº é”™ åŸºç¡€+èµ„æ–™ Flutter Flutterä¸­æ–‡ç½‘ Flutterä¸­æ–‡ç½‘2 Flutterå¼€æºåº“ Flutterå®žæˆ˜ awesome-flutter: ä¸€ä¸ªflutterçš„é¡¹ç›®ã€æ–‡æ¡£ã€æ•™ç¨‹çš„èµ„æºæ•´åˆå’Œæ”¶è— é˜¿é‡Œï¼šflutter-goï¼šflutter å¼€å‘è€…å¸®åŠ© APP FlutterScreens: ç»„ä»¶é›†åˆ å›¾è¡¨åº“â€”â€”google charts FlutterBoost: æ–°ä¸€ä»£Flutter-Nativeæ··åˆè§£å†³æ–¹æ¡ˆ Flutteræ’ä»¶ Flutterçš„æ—¥æœŸé€‰æ‹©å™¨æŽ§ä»¶ Dart Dartå®˜æ–¹ä¸»é¡µ Dart Packages Dartè¯­è¨€çš„åœ¨çº¿ç¼–è¾‘å™¨ Dartè¯­è¨€çš„åœ¨çº¿ç¼–è¾‘å™¨æºç  ç¤¾åŒº æŽ˜è¿›Flutterç¤¾åŒº çŸ¥ä¹ŽFlutterç¤¾åŒº Flutter å¼€å‘ç»„ä»¶åº“ä¸­æ–‡ç¤¾åŒº é—²é±¼æŠ€æœ¯Flutter segmentfault: æ€å¦æŠ€æœ¯é—®ç­”ç¤¾åŒº Demoèµ„æº ä»¿ç½‘æ˜“äº‘éŸ³ä¹ è±†ç“£å®¢æˆ·ç«¯ï¼šå…¨ç½‘æœ€100%è¿˜åŽŸè±†ç“£å®¢æˆ·ç«¯ ä¹¦é˜ Flutter Example Apps (Source Code + YouTube Link) åŸºäºŽGoogle Flutterçš„WanAndroidå®¢æˆ·ç«¯ Flutter ä»¿æ»´æ»´å‡ºè¡Œ(éƒ¨åˆ†å¼€æº) åŸºäºŽGoogle Flutterçš„å¼€æºä¸­å›½å®¢æˆ·ç«¯ GSYGithubAppï¼šè·¨å¹³å°çš„å¼€æºGithubå®¢æˆ·ç«¯App æ—¶é—´è½´Demo Flutter UIKit é«˜ä»¿ä¹¦æ——å°è¯´ Flutterç‰ˆ flutterå®žçŽ°è¶…è¿‡100ä¸ªç²¾ç¾Žçš„uié¡µé¢ Flutterçš„ç”µå•†å®žæˆ˜é¡¹ç›® InKino: å®Œæ•´çš„ç”µå½±åº”ç”¨ç¨‹åº Beer-Me-Up Music Player: Pawan Kumar å¼€å‘çš„å…¨åŠŸèƒ½éŸ³ä¹æ’­æ”¾å™¨ WhatTodo DroidKaigi2018-flutter: ä¸œäº¬ DroidKaigi 2018 çš„éžå®˜æ–¹ä¼šè®®åº”ç”¨ å¼€å‘çŸ¥ä¹ŽAppçš„Flutterç‰ˆ ä»¿luckin coffeeçš„FlutterApp å¤©æ°”æŸ¥è¯¢App ä»¿æŽ˜é‡‘ Flutterä»¿BOSSç›´è˜ ä»¿å¼€çœ¼è§†é¢‘ Flutteré«˜ä»¿å¥½å¥‡å¿ƒæ—¥æŠ¥ flutterå¼€å‘ä¿„ç½—æ–¯æ–¹å— Flutteråº“èµ„æº Flutterï¼šloadingåŠ¨ç”»åº“ å…¶å®ƒ flutteråº”ç”¨æ”¶é›† MADE BY THE FLUTTERç¤¾åŒº æ—¥æ›´çš„FlutterDemoåˆé›† Flutter-learning: ä¸ªäººå¼€æºé¡¹ç›®ï¼Œ2600Star]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>flutter</tag>
        <tag>dart</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[flutterå¸¸ç”¨ç»„ä»¶å­¦ä¹ ]]></title>
    <url>%2F2019%2F05%2F25%2Fflutter%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6%E5%AD%A6%E4%B9%A0%2F</url>
    <content type="text"><![CDATA[flutterå¸¸ç”¨ç»„ä»¶å­¦ä¹ textæ–‡æœ¬ç»„ä»¶1234567891011121314child: Text( 'Flutteræ˜¯è°·æ­Œçš„ç§»åŠ¨UIæ¡†æž¶ï¼Œå¯ä»¥å¿«é€Ÿåœ¨iOSå’ŒAndroidä¸Šæž„å»ºé«˜è´¨é‡çš„åŽŸç”Ÿç”¨æˆ·ç•Œé¢ã€‚Flutterå¯ä»¥ä¸ŽçŽ°æœ‰çš„ä»£ç ä¸€èµ·å·¥ä½œã€‚åœ¨å…¨ä¸–ç•Œï¼ŒFlutteræ­£åœ¨è¢«è¶Šæ¥è¶Šå¤šçš„å¼€å‘è€…å’Œç»„ç»‡ä½¿ç”¨ï¼Œå¹¶ä¸”Flutteræ˜¯å®Œå…¨å…è´¹ã€å¼€æºçš„ã€‚å®ƒä¹Ÿæ˜¯æž„å»ºæœªæ¥çš„Google Fuchsi.', textAlign: TextAlign.start, maxLines: 2, // overflow: TextOverflow.clip, // overflow: TextOverflow.fade, overflow: TextOverflow.ellipsis, style: TextStyle( fontSize: 16.0, color: Color.fromARGB(255, 125, 0, 1), decoration: TextDecoration.underline, decorationStyle: TextDecorationStyle.solid ),), Containerç»„ä»¶ æ­¤ç»„ä»¶æœ‰ç‚¹ç±»åž‹htmlä¸­çš„div 123456789101112131415161718192021 child: Container( child: new Text( 'hello wutianci', style: TextStyle( fontSize: 40.0, color: Color.fromRGBO(255, 255, 255, 1), ), ), alignment: Alignment.topLeft, width: 500.0, height: 400.0, color: Colors.lightBlue, // padding: const EdgeInsets.all(10.0), padding: const EdgeInsets.fromLTRB(20.0, 10.0, 0, 0), margin: const EdgeInsets.all(10.0), decoration: new BoxDecoration( gradient: const LinearGradient( colors: [Colors.lightBlue,Colors.greenAccent,Colors.purple] ) ),), Imageç»„ä»¶1234567891011121314151617181920child: Container( child: new Image.network( 'https://avatars2.githubusercontent.com/u/9635737', // repeat: ImageRepeat.noRepeat, repeat: ImageRepeat.repeat, /* æ··åˆ // color: Colors.greenAccent, // colorBlendMode: BlendMode.darken, // colorBlendMode: BlendMode.colorDodge, // colorBlendMode: BlendMode.difference, */ // fit: BoxFit.contain, // fit: BoxFit.fill, // fit: BoxFit.fitWidth fit: BoxFit.cover ), width: 300.0, height: 200.0, color: Colors.lightBlue), ListViewç»„ä»¶1234567891011121314151617181920body: new ListView( // children: &lt;Widget&gt;[ // new ListTile( // leading: new Icon(Icons.perm_camera_mic), // title: new Text('perm_camera_mic'), // ), new ListTile( // leading: new Icon(Icons.add_call), // title: new Text('add_call'), // ), new ListTile( // leading: new Icon(Icons.access_time), // title: new Text('access_time'), // ) // ], children: &lt;Widget&gt;[ new Image.network('https://ss1.baidu.com/9vo3dSag_xI4khGko9WTAnF6hhy/image/h%3D300/sign=77d1cd475d43fbf2da2ca023807fca1e/9825bc315c6034a8ef5250cec5134954082376c9.jpg'), new Image.network('https://ss1.baidu.com/9vo3dSag_xI4khGko9WTAnF6hhy/image/h%3D300/sign=77d1cd475d43fbf2da2ca023807fca1e/9825bc315c6034a8ef5250cec5134954082376c9.jpg'), new Image.network('https://ss1.baidu.com/9vo3dSag_xI4khGko9WTAnF6hhy/image/h%3D300/sign=77d1cd475d43fbf2da2ca023807fca1e/9825bc315c6034a8ef5250cec5134954082376c9.jpg'), new Image.network('https://ss1.baidu.com/9vo3dSag_xI4khGko9WTAnF6hhy/image/h%3D300/sign=77d1cd475d43fbf2da2ca023807fca1e/9825bc315c6034a8ef5250cec5134954082376c9.jpg'), ], ), å®Œæ•´ä»£ç 123456789101112131415161718192021222324252627282930313233343536import 'package:flutter/material.dart';void main() =&gt; runApp(MyApp());class MyApp extends StatelessWidget&#123; @override Widget build(BuildContext context)&#123; return MaterialApp( title: 'text to Flutter', home: Scaffold( appBar: AppBar( title: Text('text a to flutter'), ), body: Center( child: Container( child: new Image.network( 'https://avatars2.githubusercontent.com/u/9635737', // repeat: ImageRepeat.noRepeat, repeat: ImageRepeat.repeat, // color: Colors.greenAccent, // colorBlendMode: BlendMode.darken, // colorBlendMode: BlendMode.colorDodge, // colorBlendMode: BlendMode.difference, // fit: BoxFit.contain, // fit: BoxFit.fill, // fit: BoxFit.fitWidth fit: BoxFit.cover ), width: 300.0, height: 200.0, color: Colors.lightBlue ), ), ) ); &#125;&#125;]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>flutter</tag>
        <tag>dart</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueç»„ä»¶é—´é€šä¿¡å…­ç§æ–¹å¼]]></title>
    <url>%2F2019%2F05%2F19%2Fvue%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1%E5%85%AD%E7%A7%8D%E6%96%B9%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ç»„ä»¶æ˜¯ vue.jsæœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œè€Œç»„ä»¶å®žä¾‹çš„ä½œç”¨åŸŸæ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œè¿™å°±æ„å‘³ç€ä¸åŒç»„ä»¶ä¹‹é—´çš„æ•°æ®æ— æ³•ç›¸äº’å¼•ç”¨ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç»„ä»¶å¯ä»¥æœ‰ä»¥ä¸‹å‡ ç§å…³ç³»ï¼š å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒA å’Œ Bã€B å’Œ Cã€B å’Œ D éƒ½æ˜¯çˆ¶å­å…³ç³»ï¼ŒC å’Œ D æ˜¯å…„å¼Ÿå…³ç³»ï¼ŒA å’Œ C æ˜¯éš”ä»£å…³ç³»ï¼ˆå¯èƒ½éš”å¤šä»£ï¼‰ã€‚ é’ˆå¯¹ä¸åŒçš„ä½¿ç”¨åœºæ™¯ï¼Œå¦‚ä½•é€‰æ‹©è¡Œä¹‹æœ‰æ•ˆçš„é€šä¿¡æ–¹å¼ï¼Ÿè¿™æ˜¯æˆ‘ä»¬æ‰€è¦æŽ¢è®¨çš„ä¸»é¢˜ã€‚æ€»ç»“äº†vueç»„ä»¶é—´é€šä¿¡çš„å‡ ç§æ–¹å¼ï¼Œå¦‚propsã€$emit/$onã€vuexã€$parent / $childrenã€$attrs/$listenerså’Œprovide/injectï¼Œ props/$emitçˆ¶ç»„ä»¶Aé€šè¿‡propsçš„æ–¹å¼å‘å­ç»„ä»¶Bä¼ é€’ï¼ŒB to A é€šè¿‡åœ¨ B ç»„ä»¶ä¸­ $emit, A ç»„ä»¶ä¸­ v-on çš„æ–¹å¼å®žçŽ°ã€‚ 1.çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼æŽ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­ï¼Œè¯´æ˜Žçˆ¶ç»„ä»¶å¦‚ä½•å‘å­ç»„ä»¶ä¼ é€’å€¼ï¼šåœ¨å­ç»„ä»¶Users.vueä¸­å¦‚ä½•èŽ·å–çˆ¶ç»„ä»¶App.vueä¸­çš„æ•°æ® users:[â€œHenryâ€,â€Buckyâ€,â€Emilyâ€] 12345678910111213141516171819//App.vueçˆ¶ç»„ä»¶&lt;template&gt; &lt;div id="app"&gt; &lt;users v-bind:users="users"&gt;&lt;/users&gt;//å‰è€…è‡ªå®šä¹‰åç§°ä¾¿äºŽå­ç»„ä»¶è°ƒç”¨ï¼ŒåŽè€…è¦ä¼ é€’æ•°æ®å &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import Users from "./components/Users"export default &#123; name: 'App', data()&#123; return&#123; users:["Henry","Bucky","Emily"] &#125; &#125;, components:&#123; "users":Users &#125;&#125; 12345678910111213141516171819å¤åˆ¶ä»£ç //userså­ç»„ä»¶&lt;template&gt; &lt;div class="hello"&gt; &lt;ul&gt; &lt;li v-for="user in users"&gt;&#123;&#123;user&#125;&#125;&lt;/li&gt;//éåŽ†ä¼ é€’è¿‡æ¥çš„å€¼ï¼Œç„¶åŽå‘ˆçŽ°åˆ°é¡µé¢ &lt;/ul&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: 'HelloWorld', props:&#123; users:&#123; //è¿™ä¸ªå°±æ˜¯çˆ¶ç»„ä»¶ä¸­å­æ ‡ç­¾è‡ªå®šä¹‰åå­— type:Array, required:true &#125; &#125;&#125;&lt;/script&gt; å¤åˆ¶ä»£ç æ€»ç»“ï¼šçˆ¶ç»„ä»¶é€šè¿‡propså‘ä¸‹ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶ã€‚æ³¨ï¼šç»„ä»¶ä¸­çš„æ•°æ®å…±æœ‰ä¸‰ç§å½¢å¼ï¼šdataã€propsã€computed 2.å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼ï¼ˆé€šè¿‡äº‹ä»¶å½¢å¼ï¼‰æŽ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­ï¼Œè¯´æ˜Žå­ç»„ä»¶å¦‚ä½•å‘çˆ¶ç»„ä»¶ä¼ é€’å€¼ï¼šå½“æˆ‘ä»¬ç‚¹å‡»â€œVue.js Demoâ€åŽï¼Œå­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’å€¼ï¼Œæ–‡å­—ç”±åŽŸæ¥çš„â€œä¼ é€’çš„æ˜¯ä¸€ä¸ªå€¼â€å˜æˆâ€œå­å‘çˆ¶ç»„ä»¶ä¼ å€¼â€ï¼Œå®žçŽ°å­ç»„ä»¶å‘çˆ¶ç»„ä»¶å€¼çš„ä¼ é€’ã€‚123456789101112131415161718192021// å­ç»„ä»¶&lt;template&gt; &lt;header&gt; &lt;h1 @click="changeTitle"&gt;&#123;&#123;title&#125;&#125;&lt;/h1&gt;//ç»‘å®šä¸€ä¸ªç‚¹å‡»äº‹ä»¶ &lt;/header&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: 'app-header', data() &#123; return &#123; title:"Vue.js Demo" &#125; &#125;, methods:&#123; changeTitle() &#123; this.$emit("titleChanged","å­å‘çˆ¶ç»„ä»¶ä¼ å€¼");//è‡ªå®šä¹‰äº‹ä»¶ ä¼ é€’å€¼â€œå­å‘çˆ¶ç»„ä»¶ä¼ å€¼â€ &#125; &#125;&#125;&lt;/script&gt; 123456789101112131415161718192021222324252627å¤åˆ¶ä»£ç // çˆ¶ç»„ä»¶&lt;template&gt; &lt;div id="app"&gt; &lt;app-header v-on:titleChanged="updateTitle" &gt;&lt;/app-header&gt;//ä¸Žå­ç»„ä»¶titleChangedè‡ªå®šä¹‰äº‹ä»¶ä¿æŒä¸€è‡´ // updateTitle($event)æŽ¥å—ä¼ é€’è¿‡æ¥çš„æ–‡å­— &lt;h2&gt;&#123;&#123;title&#125;&#125;&lt;/h2&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import Header from "./components/Header"export default &#123; name: 'App', data()&#123; return&#123; title:"ä¼ é€’çš„æ˜¯ä¸€ä¸ªå€¼" &#125; &#125;, methods:&#123; updateTitle(e)&#123; //å£°æ˜Žè¿™ä¸ªå‡½æ•° this.title = e; &#125; &#125;, components:&#123; "app-header":Header, &#125;&#125;&lt;/script&gt; å¤åˆ¶ä»£ç æ€»ç»“ï¼šå­ç»„ä»¶é€šè¿‡eventsç»™çˆ¶ç»„ä»¶å‘é€æ¶ˆæ¯ï¼Œå®žé™…ä¸Šå°±æ˜¯å­ç»„ä»¶æŠŠè‡ªå·±çš„æ•°æ®å‘é€åˆ°çˆ¶ç»„ä»¶ã€‚ $emit/$onè¿™ç§æ–¹æ³•é€šè¿‡ä¸€ä¸ªç©ºçš„Vueå®žä¾‹ä½œä¸ºä¸­å¤®äº‹ä»¶æ€»çº¿ï¼ˆäº‹ä»¶ä¸­å¿ƒï¼‰ï¼Œç”¨å®ƒæ¥è§¦å‘äº‹ä»¶å’Œç›‘å¬äº‹ä»¶,å·§å¦™è€Œè½»é‡åœ°å®žçŽ°äº†ä»»ä½•ç»„ä»¶é—´çš„é€šä¿¡ï¼ŒåŒ…æ‹¬çˆ¶å­ã€å…„å¼Ÿã€è·¨çº§ã€‚å½“æˆ‘ä»¬çš„é¡¹ç›®æ¯”è¾ƒå¤§æ—¶ï¼Œå¯ä»¥é€‰æ‹©æ›´å¥½çš„çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆvuexã€‚ 1.å…·ä½“å®žçŽ°æ–¹å¼ï¼š123var Event=new Vue();Event.$emit(äº‹ä»¶å,æ•°æ®);Event.$on(äº‹ä»¶å,data =&gt; &#123;&#125;); 2.ä¸¾ä¸ªä¾‹å­å‡è®¾å…„å¼Ÿç»„ä»¶æœ‰ä¸‰ä¸ªï¼Œåˆ†åˆ«æ˜¯Aã€Bã€Cç»„ä»¶ï¼ŒCç»„ä»¶å¦‚ä½•èŽ·å–Aæˆ–è€…Bç»„ä»¶çš„æ•°æ®12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576&lt;div id="itany"&gt; &lt;my-a&gt;&lt;/my-a&gt; &lt;my-b&gt;&lt;/my-b&gt; &lt;my-c&gt;&lt;/my-c&gt;&lt;/div&gt;&lt;template id="a"&gt; &lt;div&gt; &lt;h3&gt;Aç»„ä»¶ï¼š&#123;&#123;name&#125;&#125;&lt;/h3&gt; &lt;button @click="send"&gt;å°†æ•°æ®å‘é€ç»™Cç»„ä»¶&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;template id="b"&gt; &lt;div&gt; &lt;h3&gt;Bç»„ä»¶ï¼š&#123;&#123;age&#125;&#125;&lt;/h3&gt; &lt;button @click="send"&gt;å°†æ•°ç»„å‘é€ç»™Cç»„ä»¶&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;template id="c"&gt; &lt;div&gt; &lt;h3&gt;Cç»„ä»¶ï¼š&#123;&#123;name&#125;&#125;ï¼Œ&#123;&#123;age&#125;&#125;&lt;/h3&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;var Event = new Vue();//å®šä¹‰ä¸€ä¸ªç©ºçš„Vueå®žä¾‹var A = &#123; template: '#a', data() &#123; return &#123; name: 'tom' &#125; &#125;, methods: &#123; send() &#123; Event.$emit('data-a', this.name); &#125; &#125;&#125;var B = &#123; template: '#b', data() &#123; return &#123; age: 20 &#125; &#125;, methods: &#123; send() &#123; Event.$emit('data-b', this.age); &#125; &#125;&#125;var C = &#123; template: '#c', data() &#123; return &#123; name: '', age: "" &#125; &#125;, mounted() &#123;//åœ¨æ¨¡æ¿ç¼–è¯‘å®ŒæˆåŽæ‰§è¡Œ Event.$on('data-a',name =&gt; &#123; this.name = name;//ç®­å¤´å‡½æ•°å†…éƒ¨ä¸ä¼šäº§ç”Ÿæ–°çš„thisï¼Œè¿™è¾¹å¦‚æžœä¸ç”¨=&gt;,thisæŒ‡ä»£Event &#125;) Event.$on('data-b',age =&gt; &#123; this.age = age; &#125;) &#125;&#125;var vm = new Vue(&#123; el: '#itany', components: &#123; 'my-a': A, 'my-b': B, 'my-c': C &#125;&#125;); &lt;/script&gt; $on ç›‘å¬äº†è‡ªå®šä¹‰äº‹ä»¶ data-aå’Œdata-bï¼Œå› ä¸ºæœ‰æ—¶ä¸ç¡®å®šä½•æ—¶ä¼šè§¦å‘äº‹ä»¶ï¼Œä¸€èˆ¬ä¼šåœ¨ mounted æˆ– created é’©å­ä¸­æ¥ç›‘å¬ã€‚ vuex 1.ç®€è¦ä»‹ç»VuexåŽŸç†Vuexå®žçŽ°äº†ä¸€ä¸ªå•å‘æ•°æ®æµï¼Œåœ¨å…¨å±€æ‹¥æœ‰ä¸€ä¸ªStateå­˜æ”¾æ•°æ®ï¼Œå½“ç»„ä»¶è¦æ›´æ”¹Stateä¸­çš„æ•°æ®æ—¶ï¼Œå¿…é¡»é€šè¿‡Mutationè¿›è¡Œï¼ŒMutationåŒæ—¶æä¾›äº†è®¢é˜…è€…æ¨¡å¼ä¾›å¤–éƒ¨æ’ä»¶è°ƒç”¨èŽ·å–Stateæ•°æ®çš„æ›´æ–°ã€‚è€Œå½“æ‰€æœ‰å¼‚æ­¥æ“ä½œ(å¸¸è§äºŽè°ƒç”¨åŽç«¯æŽ¥å£å¼‚æ­¥èŽ·å–æ›´æ–°æ•°æ®)æˆ–æ‰¹é‡çš„åŒæ­¥æ“ä½œéœ€è¦èµ°Actionï¼Œä½†Actionä¹Ÿæ˜¯æ— æ³•ç›´æŽ¥ä¿®æ”¹Stateçš„ï¼Œè¿˜æ˜¯éœ€è¦é€šè¿‡Mutationæ¥ä¿®æ”¹Stateçš„æ•°æ®ã€‚æœ€åŽï¼Œæ ¹æ®Stateçš„å˜åŒ–ï¼Œæ¸²æŸ“åˆ°è§†å›¾ä¸Šã€‚ 2.ç®€è¦ä»‹ç»å„æ¨¡å—åœ¨æµç¨‹ä¸­çš„åŠŸèƒ½ï¼š Vue Componentsï¼šVueç»„ä»¶ã€‚HTMLé¡µé¢ä¸Šï¼Œè´Ÿè´£æŽ¥æ”¶ç”¨æˆ·æ“ä½œç­‰äº¤äº’è¡Œä¸ºï¼Œæ‰§è¡Œdispatchæ–¹æ³•è§¦å‘å¯¹åº”actionè¿›è¡Œå›žåº”ã€‚ dispatchï¼šæ“ä½œè¡Œä¸ºè§¦å‘æ–¹æ³•ï¼Œæ˜¯å”¯ä¸€èƒ½æ‰§è¡Œactionçš„æ–¹æ³•ã€‚ actionsï¼šæ“ä½œè¡Œä¸ºå¤„ç†æ¨¡å—,ç”±ç»„ä»¶ä¸­çš„$store.dispatch(â€˜action åç§°â€™, data1)æ¥è§¦å‘ã€‚ç„¶åŽç”±commit()æ¥è§¦å‘mutationçš„è°ƒç”¨ , é—´æŽ¥æ›´æ–° stateã€‚è´Ÿè´£å¤„ç†Vue ComponentsæŽ¥æ”¶åˆ°çš„æ‰€æœ‰äº¤äº’è¡Œä¸ºã€‚åŒ…å«åŒæ­¥/å¼‚æ­¥æ“ä½œï¼Œæ”¯æŒå¤šä¸ªåŒåæ–¹æ³•ï¼ŒæŒ‰ç…§æ³¨å†Œçš„é¡ºåºä¾æ¬¡è§¦å‘ã€‚å‘åŽå°APIè¯·æ±‚çš„æ“ä½œå°±åœ¨è¿™ä¸ªæ¨¡å—ä¸­è¿›è¡Œï¼ŒåŒ…æ‹¬è§¦å‘å…¶ä»–actionä»¥åŠæäº¤mutationçš„æ“ä½œã€‚è¯¥æ¨¡å—æä¾›äº†Promiseçš„å°è£…ï¼Œä»¥æ”¯æŒactionçš„é“¾å¼è§¦å‘ã€‚ commitï¼šçŠ¶æ€æ”¹å˜æäº¤æ“ä½œæ–¹æ³•ã€‚å¯¹mutationè¿›è¡Œæäº¤ï¼Œæ˜¯å”¯ä¸€èƒ½æ‰§è¡Œmutationçš„æ–¹æ³•ã€‚mutationsï¼šçŠ¶æ€æ”¹å˜æ“ä½œæ–¹æ³•ï¼Œç”±actionsä¸­çš„commit(â€˜mutation åç§°â€™)æ¥è§¦å‘ã€‚æ˜¯Vuexä¿®æ”¹stateçš„å”¯ä¸€æŽ¨èæ–¹æ³•ã€‚è¯¥æ–¹æ³•åªèƒ½è¿›è¡ŒåŒæ­¥æ“ä½œï¼Œä¸”æ–¹æ³•ååªèƒ½å…¨å±€å”¯ä¸€ã€‚æ“ä½œä¹‹ä¸­ä¼šæœ‰ä¸€äº›hookæš´éœ²å‡ºæ¥ï¼Œä»¥è¿›è¡Œstateçš„ç›‘æŽ§ç­‰ã€‚ stateï¼šé¡µé¢çŠ¶æ€ç®¡ç†å®¹å™¨å¯¹è±¡ã€‚é›†ä¸­å­˜å‚¨Vue componentsä¸­dataå¯¹è±¡çš„é›¶æ•£æ•°æ®ï¼Œå…¨å±€å”¯ä¸€ï¼Œä»¥è¿›è¡Œç»Ÿä¸€çš„çŠ¶æ€ç®¡ç†ã€‚é¡µé¢æ˜¾ç¤ºæ‰€éœ€çš„æ•°æ®ä»Žè¯¥å¯¹è±¡ä¸­è¿›è¡Œè¯»å–ï¼Œåˆ©ç”¨Vueçš„ç»†ç²’åº¦æ•°æ®å“åº”æœºåˆ¶æ¥è¿›è¡Œé«˜æ•ˆçš„çŠ¶æ€æ›´æ–°ã€‚ gettersï¼šstateå¯¹è±¡è¯»å–æ–¹æ³•ã€‚å›¾ä¸­æ²¡æœ‰å•ç‹¬åˆ—å‡ºè¯¥æ¨¡å—ï¼Œåº”è¯¥è¢«åŒ…å«åœ¨äº†renderä¸­ï¼ŒVue Componentsé€šè¿‡è¯¥æ–¹æ³•è¯»å–å…¨å±€stateå¯¹è±¡ã€‚ Vuexä¸ŽlocalStoragevuex æ˜¯ vue çš„çŠ¶æ€ç®¡ç†å™¨ï¼Œå­˜å‚¨çš„æ•°æ®æ˜¯å“åº”å¼çš„ã€‚ä½†æ˜¯å¹¶ä¸ä¼šä¿å­˜èµ·æ¥ï¼Œåˆ·æ–°ä¹‹åŽå°±å›žåˆ°äº†åˆå§‹çŠ¶æ€ï¼Œå…·ä½“åšæ³•åº”è¯¥åœ¨vuexé‡Œæ•°æ®æ”¹å˜çš„æ—¶å€™æŠŠæ•°æ®æ‹·è´ä¸€ä»½ä¿å­˜åˆ°localStorageé‡Œé¢ï¼Œåˆ·æ–°ä¹‹åŽï¼Œå¦‚æžœlocalStorageé‡Œæœ‰ä¿å­˜çš„æ•°æ®ï¼Œå–å‡ºæ¥å†æ›¿æ¢storeé‡Œçš„stateã€‚1234567891011121314151617181920let defaultCity = "ä¸Šæµ·"try &#123; // ç”¨æˆ·å…³é—­äº†æœ¬åœ°å­˜å‚¨åŠŸèƒ½ï¼Œæ­¤æ—¶åœ¨å¤–å±‚åŠ ä¸ªtry...catch if (!defaultCity)&#123; defaultCity = JSON.parse(window.localStorage.getItem('defaultCity')) &#125;&#125;catch(e)&#123;&#125;export default new Vuex.Store(&#123; state: &#123; city: defaultCity &#125;, mutations: &#123; changeCity(state, city) &#123; state.city = city try &#123; window.localStorage.setItem('defaultCity', JSON.stringify(state.city)); // æ•°æ®æ”¹å˜çš„æ—¶å€™æŠŠæ•°æ®æ‹·è´ä¸€ä»½ä¿å­˜åˆ°localStorageé‡Œé¢ &#125; catch (e) &#123;&#125; &#125; &#125;&#125;) è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šç”±äºŽvuexé‡Œï¼Œæˆ‘ä»¬ä¿å­˜çš„çŠ¶æ€ï¼Œéƒ½æ˜¯æ•°ç»„ï¼Œè€ŒlocalStorageåªæ”¯æŒå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥éœ€è¦ç”¨JSONè½¬æ¢ï¼š12JSON.stringify(state.subscribeList); // array -&gt; stringJSON.parse(window.localStorage.getItem("subscribeList")); // string -&gt; array $attrs/$listenerså¤šçº§ç»„ä»¶åµŒå¥—éœ€è¦ä¼ é€’æ•°æ®æ—¶ï¼Œé€šå¸¸ä½¿ç”¨çš„æ–¹æ³•æ˜¯é€šè¿‡vuexã€‚ä½†å¦‚æžœä»…ä»…æ˜¯ä¼ é€’æ•°æ®ï¼Œè€Œä¸åšä¸­é—´å¤„ç†ï¼Œä½¿ç”¨ vuex å¤„ç†ï¼Œæœªå…æœ‰ç‚¹å¤§æå°ç”¨ã€‚ä¸ºæ­¤Vue2.4 ç‰ˆæœ¬æä¾›äº†å¦ä¸€ç§æ–¹æ³•â€”-$attrs/$listeners $attrsï¼šåŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­ä¸è¢« prop æ‰€è¯†åˆ« (ä¸”èŽ·å–) çš„ç‰¹æ€§ç»‘å®š (class å’Œ style é™¤å¤–)ã€‚å½“ä¸€ä¸ªç»„ä»¶æ²¡æœ‰å£°æ˜Žä»»ä½• prop æ—¶ï¼Œè¿™é‡Œä¼šåŒ…å«æ‰€æœ‰çˆ¶ä½œç”¨åŸŸçš„ç»‘å®š (class å’Œ style é™¤å¤–)ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ v-bind=â€$attrsâ€ ä¼ å…¥å†…éƒ¨ç»„ä»¶ã€‚é€šå¸¸é…åˆ interitAttrs é€‰é¡¹ä¸€èµ·ä½¿ç”¨ã€‚ $listenersï¼šåŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­çš„ (ä¸å« .native ä¿®é¥°å™¨çš„) v-on äº‹ä»¶ç›‘å¬å™¨ã€‚å®ƒå¯ä»¥é€šè¿‡ v-on=â€$listenersâ€ ä¼ å…¥å†…éƒ¨ç»„ä»¶ æŽ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸ªè·¨çº§é€šä¿¡çš„ä¾‹å­ï¼š123456789101112131415161718192021222324252627// index.vue&lt;template&gt; &lt;div&gt; &lt;h2&gt;æµªé‡Œè¡ŒèˆŸ&lt;/h2&gt; &lt;child-com1 :foo="foo" :boo="boo" :coo="coo" :doo="doo" title="å‰ç«¯å·¥åŒ " &gt;&lt;/child-com1&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;const childCom1 = () =&gt; import("./childCom1.vue");export default &#123; components: &#123; childCom1 &#125;, data() &#123; return &#123; foo: "Javascript", boo: "Html", coo: "CSS", doo: "Vue" &#125;; &#125;&#125;;&lt;/script&gt; 123456789101112131415161718192021222324// childCom1.vue&lt;template class="border"&gt; &lt;div&gt; &lt;p&gt;foo: &#123;&#123; foo &#125;&#125;&lt;/p&gt; &lt;p&gt;childCom1çš„$attrs: &#123;&#123; $attrs &#125;&#125;&lt;/p&gt; &lt;child-com2 v-bind="$attrs"&gt;&lt;/child-com2&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;const childCom2 = () =&gt; import("./childCom2.vue");export default &#123; components: &#123; childCom2 &#125;, inheritAttrs: false, // å¯ä»¥å…³é—­è‡ªåŠ¨æŒ‚è½½åˆ°ç»„ä»¶æ ¹å…ƒç´ ä¸Šçš„æ²¡æœ‰åœ¨propså£°æ˜Žçš„å±žæ€§ props: &#123; foo: String // fooä½œä¸ºpropså±žæ€§ç»‘å®š &#125;, created() &#123; console.log(this.$attrs); // &#123; "boo": "Html", "coo": "CSS", "doo": "Vue", "title": "å‰ç«¯å·¥åŒ " &#125; &#125;&#125;;&lt;/script&gt; 123456789101112131415161718192021222324// childCom2.vue&lt;template&gt; &lt;div class="border"&gt; &lt;p&gt;boo: &#123;&#123; boo &#125;&#125;&lt;/p&gt; &lt;p&gt;childCom2: &#123;&#123; $attrs &#125;&#125;&lt;/p&gt; &lt;child-com3 v-bind="$attrs"&gt;&lt;/child-com3&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;const childCom3 = () =&gt; import("./childCom3.vue");export default &#123; components: &#123; childCom3 &#125;, inheritAttrs: false, props: &#123; boo: String &#125;, created() &#123; console.log(this.$attrs); // &#123; "boo": "Html", "coo": "CSS", "doo": "Vue", "title": "å‰ç«¯å·¥åŒ " &#125; &#125;&#125;;&lt;/script&gt; 1234567891011121314// childCom3.vue&lt;template&gt; &lt;div class="border"&gt; &lt;p&gt;childCom3: &#123;&#123; $attrs &#125;&#125;&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; props: &#123; coo: String, title: String &#125;&#125;;&lt;/script&gt; å¦‚ä¸Šå›¾æ‰€ç¤º$attrsè¡¨ç¤ºæ²¡æœ‰ç»§æ‰¿æ•°æ®çš„å¯¹è±¡ï¼Œæ ¼å¼ä¸º{å±žæ€§åï¼šå±žæ€§å€¼}ã€‚Vue2.4æä¾›äº†$attrs , $listeners æ¥ä¼ é€’æ•°æ®ä¸Žäº‹ä»¶ï¼Œè·¨çº§ç»„ä»¶ä¹‹é—´çš„é€šè®¯å˜å¾—æ›´ç®€å•ã€‚ ç®€å•æ¥è¯´ï¼š$attrsä¸Ž$listeners æ˜¯ä¸¤ä¸ªå¯¹è±¡ï¼Œ$attrs é‡Œå­˜æ”¾çš„æ˜¯çˆ¶ç»„ä»¶ä¸­ç»‘å®šçš„éž Props å±žæ€§ï¼Œ$listenersé‡Œå­˜æ”¾çš„æ˜¯çˆ¶ç»„ä»¶ä¸­ç»‘å®šçš„éžåŽŸç”Ÿäº‹ä»¶ã€‚ provide/inject1.ç®€ä»‹Vue2.2.0æ–°å¢žAPI,è¿™å¯¹é€‰é¡¹éœ€è¦ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åŽä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œä¸è®ºç»„ä»¶å±‚æ¬¡æœ‰å¤šæ·±ï¼Œå¹¶åœ¨èµ·ä¸Šä¸‹æ¸¸å…³ç³»æˆç«‹çš„æ—¶é—´é‡Œå§‹ç»ˆç”Ÿæ•ˆã€‚ä¸€è¨€è€Œè”½ä¹‹ï¼šç¥–å…ˆç»„ä»¶ä¸­é€šè¿‡provideræ¥æä¾›å˜é‡ï¼Œç„¶åŽåœ¨å­å­™ç»„ä»¶ä¸­é€šè¿‡injectæ¥æ³¨å…¥å˜é‡ã€‚provide / inject API ä¸»è¦è§£å†³äº†è·¨çº§ç»„ä»¶é—´çš„é€šä¿¡é—®é¢˜ï¼Œä¸è¿‡å®ƒçš„ä½¿ç”¨åœºæ™¯ï¼Œä¸»è¦æ˜¯å­ç»„ä»¶èŽ·å–ä¸Šçº§ç»„ä»¶çš„çŠ¶æ€ï¼Œè·¨çº§ç»„ä»¶é—´å»ºç«‹äº†ä¸€ç§ä¸»åŠ¨æä¾›ä¸Žä¾èµ–æ³¨å…¥çš„å…³ç³»ã€‚ 2.ä¸¾ä¸ªä¾‹å­å‡è®¾æœ‰ä¸¤ä¸ªç»„ä»¶ï¼š A.vue å’Œ B.vueï¼ŒB æ˜¯ A çš„å­ç»„ä»¶123456// A.vueexport default &#123; provide: &#123; name: 'æµªé‡Œè¡ŒèˆŸ' &#125;&#125; 1234567// B.vueexport default &#123; inject: ['name'], mounted () &#123; console.log(this.name); // æµªé‡Œè¡ŒèˆŸ &#125;&#125; å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ A.vue é‡Œï¼Œæˆ‘ä»¬è®¾ç½®äº†ä¸€ä¸ª provide: nameï¼Œå€¼ä¸º æµªé‡Œè¡ŒèˆŸï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯å°† name è¿™ä¸ªå˜é‡æä¾›ç»™å®ƒçš„æ‰€æœ‰å­ç»„ä»¶ã€‚è€Œåœ¨ B.vue ä¸­ï¼Œé€šè¿‡ inject æ³¨å…¥äº†ä»Ž A ç»„ä»¶ä¸­æä¾›çš„ name å˜é‡ï¼Œé‚£ä¹ˆåœ¨ç»„ä»¶ B ä¸­ï¼Œå°±å¯ä»¥ç›´æŽ¥é€šè¿‡ this.name è®¿é—®è¿™ä¸ªå˜é‡äº†ï¼Œå®ƒçš„å€¼ä¹Ÿæ˜¯ æµªé‡Œè¡ŒèˆŸã€‚è¿™å°±æ˜¯ provide / inject API æœ€æ ¸å¿ƒçš„ç”¨æ³•ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼šprovide å’Œ inject ç»‘å®šå¹¶ä¸æ˜¯å¯å“åº”çš„ã€‚è¿™æ˜¯åˆ»æ„ä¸ºä¹‹çš„ã€‚ç„¶è€Œï¼Œå¦‚æžœä½ ä¼ å…¥äº†ä¸€ä¸ªå¯ç›‘å¬çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå…¶å¯¹è±¡çš„å±žæ€§è¿˜æ˜¯å¯å“åº”çš„â€”-vueå®˜æ–¹æ–‡æ¡£æ‰€ä»¥ï¼Œä¸Šé¢ A.vue çš„ name å¦‚æžœæ”¹å˜äº†ï¼ŒB.vue çš„ this.name æ˜¯ä¸ä¼šæ”¹å˜çš„ï¼Œä»ç„¶æ˜¯ æµªé‡Œè¡ŒèˆŸã€‚ 3.provideä¸Žinject æ€Žä¹ˆå®žçŽ°æ•°æ®å“åº”å¼ä¸€èˆ¬æ¥è¯´ï¼Œæœ‰ä¸¤ç§åŠžæ³•ï¼š provideç¥–å…ˆç»„ä»¶çš„å®žä¾‹ï¼Œç„¶åŽåœ¨å­å­™ç»„ä»¶ä¸­æ³¨å…¥ä¾èµ–ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨å­å­™ç»„ä»¶ä¸­ç›´æŽ¥ä¿®æ”¹ç¥–å…ˆç»„ä»¶çš„å®žä¾‹çš„å±žæ€§ï¼Œä¸è¿‡è¿™ç§æ–¹æ³•æœ‰ä¸ªç¼ºç‚¹å°±æ˜¯è¿™ä¸ªå®žä¾‹ä¸ŠæŒ‚è½½å¾ˆå¤šæ²¡æœ‰å¿…è¦çš„ä¸œè¥¿æ¯”å¦‚propsï¼Œmethodsä½¿ç”¨2.6æœ€æ–°API Vue.observable ä¼˜åŒ–å“åº”å¼ provide(æŽ¨è) æˆ‘ä»¬æ¥çœ‹ä¸ªä¾‹å­ï¼šå­™ç»„ä»¶Dã€Eå’ŒFèŽ·å–Aç»„ä»¶ä¼ é€’è¿‡æ¥çš„colorå€¼ï¼Œå¹¶èƒ½å®žçŽ°æ•°æ®å“åº”å¼å˜åŒ–ï¼Œå³Aç»„ä»¶çš„colorå˜åŒ–åŽï¼Œç»„ä»¶Dã€Eã€Fä¸ä¼šè·Ÿç€å˜ï¼ˆæ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼šï¼‰ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152// A ç»„ä»¶ &lt;div&gt; &lt;h1&gt;A ç»„ä»¶&lt;/h1&gt; &lt;button @click="() =&gt; changeColor()"&gt;æ”¹å˜color&lt;/button&gt; &lt;ChildrenB /&gt; &lt;ChildrenC /&gt;&lt;/div&gt;...... data() &#123; return &#123; color: "blue" &#125;; &#125;, // provide() &#123; // return &#123; // theme: &#123; // color: this.color //è¿™ç§æ–¹å¼ç»‘å®šçš„æ•°æ®å¹¶ä¸æ˜¯å¯å“åº”çš„ // &#125; // å³Aç»„ä»¶çš„colorå˜åŒ–åŽï¼Œç»„ä»¶Dã€Eã€Fä¸ä¼šè·Ÿç€å˜ // &#125;; // &#125;, provide() &#123; return &#123; theme: this//æ–¹æ³•ä¸€ï¼šæä¾›ç¥–å…ˆç»„ä»¶çš„å®žä¾‹ &#125;; &#125;, methods: &#123; changeColor(color) &#123; if (color) &#123; this.color = color; &#125; else &#123; this.color = this.color === "blue" ? "red" : "blue"; &#125; &#125; &#125; // æ–¹æ³•äºŒ:ä½¿ç”¨2.6æœ€æ–°API Vue.observable ä¼˜åŒ–å“åº”å¼ provide // provide() &#123; // this.theme = Vue.observable(&#123; // color: "blue" // &#125;); // return &#123; // theme: this.theme // &#125;; // &#125;, // methods: &#123; // changeColor(color) &#123; // if (color) &#123; // this.theme.color = color; // &#125; else &#123; // this.theme.color = this.theme.color === "blue" ? "red" : "blue"; // &#125; // &#125; // &#125; 12345678910111213141516// F ç»„ä»¶ &lt;template functional&gt; &lt;div class="border2"&gt; &lt;h3 :style="&#123; color: injections.theme.color &#125;"&gt;F ç»„ä»¶&lt;/h3&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; inject: &#123; theme: &#123; //å‡½æ•°å¼ç»„ä»¶å–å€¼ä¸ä¸€æ · default: () =&gt; (&#123;&#125;) &#125; &#125;&#125;;&lt;/script&gt; è™½è¯´provide å’Œ inject ä¸»è¦ä¸ºé«˜é˜¶æ’ä»¶/ç»„ä»¶åº“æä¾›ç”¨ä¾‹ï¼Œä½†å¦‚æžœä½ èƒ½åœ¨ä¸šåŠ¡ä¸­ç†Ÿç»ƒè¿ç”¨ï¼Œå¯ä»¥è¾¾åˆ°äº‹åŠåŠŸå€çš„æ•ˆæžœï¼ $parent / $childrenä¸Ž ref refï¼šå¦‚æžœåœ¨æ™®é€šçš„ DOM å…ƒç´ ä¸Šä½¿ç”¨ï¼Œå¼•ç”¨æŒ‡å‘çš„å°±æ˜¯ DOM å…ƒç´ ï¼›å¦‚æžœç”¨åœ¨å­ç»„ä»¶ä¸Šï¼Œå¼•ç”¨å°±æŒ‡å‘ç»„ä»¶å®žä¾‹ $parent / $childrenï¼šè®¿é—®çˆ¶ / å­å®žä¾‹ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šè¿™ä¸¤ç§éƒ½æ˜¯ç›´æŽ¥å¾—åˆ°ç»„ä»¶å®žä¾‹ï¼Œä½¿ç”¨åŽå¯ä»¥ç›´æŽ¥è°ƒç”¨ç»„ä»¶çš„æ–¹æ³•æˆ–è®¿é—®æ•°æ®ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸ªç”¨ refæ¥è®¿é—®ç»„ä»¶çš„ä¾‹å­ï¼š 12345678910111213// component-a å­ç»„ä»¶export default &#123; data () &#123; return &#123; title: 'Vue.js' &#125; &#125;, methods: &#123; sayHello () &#123; window.alert('Hello'); &#125; &#125;&#125; 12345678910111213// çˆ¶ç»„ä»¶&lt;template&gt; &lt;component-a ref="comA"&gt;&lt;/component-a&gt;&lt;/template&gt;&lt;script&gt; export default &#123; mounted () &#123; const comA = this.$refs.comA; console.log(comA.title); // Vue.js comA.sayHello(); // å¼¹çª— &#125; &#125;&lt;/script&gt; å¤åˆ¶ä»£ç ä¸è¿‡ï¼Œè¿™ä¸¤ç§æ–¹æ³•çš„å¼Šç«¯æ˜¯ï¼Œæ— æ³•åœ¨è·¨çº§æˆ–å…„å¼Ÿé—´é€šä¿¡ã€‚1234// parent.vue&lt;component-a&gt;&lt;/component-a&gt;&lt;component-b&gt;&lt;/component-b&gt;&lt;component-b&gt;&lt;/component-b&gt; æˆ‘ä»¬æƒ³åœ¨ component-a ä¸­ï¼Œè®¿é—®åˆ°å¼•ç”¨å®ƒçš„é¡µé¢ä¸­ï¼ˆè¿™é‡Œå°±æ˜¯ parent.vueï¼‰çš„ä¸¤ä¸ª component-b ç»„ä»¶ï¼Œé‚£è¿™ç§æƒ…å†µä¸‹ï¼Œå°±å¾—é…ç½®é¢å¤–çš„æ’ä»¶æˆ–å·¥å…·äº†ï¼Œæ¯”å¦‚ Vuex å’Œ Bus çš„è§£å†³æ–¹æ¡ˆã€‚ æ€»ç»“å¸¸è§ä½¿ç”¨åœºæ™¯å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼š çˆ¶å­é€šä¿¡ï¼šçˆ¶å‘å­ä¼ é€’æ•°æ®æ˜¯é€šè¿‡ propsï¼Œå­å‘çˆ¶æ˜¯é€šè¿‡ eventsï¼ˆ$emitï¼‰ï¼›é€šè¿‡çˆ¶é“¾ / å­é“¾ä¹Ÿå¯ä»¥é€šä¿¡ï¼ˆ$parent / $childrenï¼‰ï¼›ref ä¹Ÿå¯ä»¥è®¿é—®ç»„ä»¶å®žä¾‹ï¼›provide / inject APIï¼›$attrs/$listeners å…„å¼Ÿé€šä¿¡ï¼šBusï¼›Vuex è·¨çº§é€šä¿¡ï¼šBusï¼›Vuexï¼›provide / inject APIã€$attrs/$listeners]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>javscript</tag>
        <tag>vue</tag>
        <tag>ç»„ä»¶é€šä¿¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[koaæž„å»ºå¤§åž‹é¡¹ç›®]]></title>
    <url>%2F2019%2F05%2F14%2Fkoa%E6%9E%84%E5%BB%BA%E5%A4%A7%E5%9E%8B%E9%A1%B9%E7%9B%AE%2F</url>
    <content type="text"><![CDATA[koaKoa æ˜¯ä¸€ä¸ªæ–°çš„ web æ¡†æž¶ï¼Œç”± Express å¹•åŽçš„åŽŸç­äººé©¬æ‰“é€ ï¼Œ è‡´åŠ›äºŽæˆä¸º web åº”ç”¨å’Œ API å¼€å‘é¢†åŸŸä¸­çš„ä¸€ä¸ªæ›´å°ã€æ›´å¯Œæœ‰è¡¨çŽ°åŠ›ã€æ›´å¥å£®çš„åŸºçŸ³ã€‚ é€šè¿‡åˆ©ç”¨ async å‡½æ•°ï¼ŒKoa å¸®ä½ ä¸¢å¼ƒå›žè°ƒå‡½æ•°ï¼Œå¹¶æœ‰åŠ›åœ°å¢žå¼ºé”™è¯¯å¤„ç†ã€‚ Koa å¹¶æ²¡æœ‰æ†ç»‘ä»»ä½•ä¸­é—´ä»¶ï¼Œ è€Œæ˜¯æä¾›äº†ä¸€å¥—ä¼˜é›…çš„æ–¹æ³•ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿè€Œæ„‰å¿«åœ°ç¼–å†™æœåŠ¡ç«¯åº”ç”¨ç¨‹åºã€‚ åŽŸç”ŸhttpæœåŠ¡å™¨å­¦ä¹ è¿‡Nodejsçš„æœ‹å‹è‚¯å®šå¯¹ä¸‹é¢è¿™æ®µä»£ç éžå¸¸ç†Ÿæ‚‰ï¼š 123456const http = require('http');let server = http.createServer((req, res) =&gt; &#123; // ....å›žè°ƒå‡½æ•°ï¼Œè¾“å‡ºhello world res.end('hello world!')&#125;)server.listen(3000) å°±è¿™æ ·ç®€å•å‡ è¡Œä»£ç ï¼Œå°±æ­å»ºäº†ä¸€ä¸ªç®€å•çš„æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä»¥å›žè°ƒå‡½æ•°çš„å½¢å¼å¤„ç†HTTPè¯·æ±‚ã€‚ä¸Šé¢è¿™æ®µä»£ç è¿˜æœ‰ä¸€ç§æ›´åŠ æ¸…æ™°çš„ç­‰ä»·å½¢å¼ï¼Œä»£ç å¦‚ä¸‹ï¼š 123456let server = new http.Server();server.on("request", function(req, res)&#123; // ....å›žè°ƒå‡½æ•°ï¼Œè¾“å‡ºhello world res.end('hello world!')&#125;);server.listen(3000); é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªHttpServerçš„å®žä¾‹ï¼Œå¯¹è¯¥å®žä¾‹è¿›è¡Œrequestäº‹ä»¶ç›‘å¬ï¼Œserveråœ¨3000ç«¯å£è¿›è¡Œç›‘å¬ã€‚HttpServerç»§æ‰¿ä¸Žnet.Serverï¼Œå®ƒä½¿ç”¨http_parserå¯¹è¿žæŽ¥çš„socketå¯¹è±¡è¿›è¡Œè§£æžï¼Œå½“è§£æžå®Œæˆhttp headerä¹‹åŽï¼Œä¼šè§¦å‘requestäº‹ä»¶ï¼Œbodyæ•°æ®ç»§ç»­ä¿å­˜åœ¨æµä¸­ï¼Œç›´åˆ°ä½¿ç”¨dataäº‹ä»¶æŽ¥æ”¶æ•°æ®ã€‚ reqæ˜¯http.IncomingMessageå®žä¾‹(åŒæ—¶å®žçŽ°äº†Readable StreamæŽ¥å£)ï¼Œè¯¦æƒ…è¯·å‚çœ‹æ–‡æ¡£ resæ˜¯http.ServerResponseå®žä¾‹(åŒæ—¶å®žçŽ°äº†Writable StreamæŽ¥å£)ï¼Œè¯¦æƒ…è¯·å‚çœ‹æ–‡æ¡£ Koaå†™HTTPæœåŠ¡å™¨Koa åº”ç”¨ç¨‹åºæ˜¯ä¸€ä¸ªåŒ…å«ä¸€ç»„ä¸­é—´ä»¶å‡½æ•°çš„å¯¹è±¡ï¼Œå®ƒæ˜¯æŒ‰ç…§ç±»ä¼¼å †æ ˆçš„æ–¹å¼ç»„ç»‡å’Œæ‰§è¡Œçš„ã€‚ 12345678const Koa = require('koa');const app = new Koa();app.use(async ctx =&gt; &#123; ctx.body = 'Hello World';&#125;);app.listen(3000); Koaå†™httpæœåŠ¡å™¨çš„å½¢å¼ä¸Žæˆ‘ä»¬ç›´æŽ¥é€šè¿‡node httpæ¨¡å—å†™çš„æ–¹å¼å·®åˆ«å¾ˆå¤§ã€‚ç¬¬ä¸€éƒ¨åˆ†æžå¯çŸ¥ï¼Œnodeçš„httpæœåŠ¡å™¨åˆ›å»ºæ¥è‡ªäºŽhttp.createServerç­‰æ–¹æ³•ï¼ŒKoaä¸­æ˜¯å¦‚ä½•ä»ŽåŽŸç”Ÿæ–¹æ³•å°è£…æˆkoaå½¢å¼çš„æœåŠ¡å™¨å‘¢ï¼Ÿæžæ‡‚è¿™ä¸ªåŽŸç†ä¹Ÿå°±æžæ‡‚äº†Koaæ¡†æž¶è®¾è®¡çš„ç†å¿µã€‚ koaä¸­çš„ctxå¯¹è±¡server.context æ‰©å±•ctxçš„åŽŸåž‹ï¼Œ ç›¸å½“äºŽctx.prototype ctx.requestctx.response ctx.method è¯·æ±‚æ–¹æ³•ctx.urlctx.pathctx.queryctx.ip è®¿å®¢ipctx.headers è¯·æ±‚å¤´ ctx.throw æŠ¥é”™é€€å‡º12345router.get('/login', async ctx =&gt; &#123; if (!ctx.query.user || !ctx.query.pass) &#123; ctx.throw(400, "user and password"); &#125;&#125;) ctx.assert1234router.get('/login', async ctx =&gt; &#123; ctx.assert(ctx.query.user, 400, 'username is required'); ctx.assert(ctx.query.password, 400, 'password is required');&#125;) ctx.state = 200;ctx.redirect é‡å®šå‘ koa-router!!!æœªå®Œå¾…ç»­â€¦]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>node</tag>
        <tag>koa</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javscripté«˜é˜¶å‡½æ•°æµ…æž]]></title>
    <url>%2F2019%2F05%2F12%2Fjavscript%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%E6%B5%85%E6%9E%90%2F</url>
    <content type="text"><![CDATA[é«˜é˜¶å‡½æ•° é«˜é˜¶å‡½æ•°è‹±æ–‡å« Higher-order functionï¼Œå®ƒçš„å®šä¹‰å¾ˆç®€å•ï¼Œå°±æ˜¯è‡³å°‘æ»¡è¶³ä¸‹åˆ—ä¸€ä¸ªæ¡ä»¶çš„å‡½æ•°ï¼š æŽ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ä½œä¸ºè¾“å…¥ è¾“å‡ºä¸€ä¸ªå‡½æ•° ä¹Ÿå°±æ˜¯è¯´é«˜é˜¶å‡½æ•°æ˜¯å¯¹å…¶ä»–å‡½æ•°è¿›è¡Œæ“ä½œçš„å‡½æ•°ï¼Œå¯ä»¥å°†å®ƒä»¬ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œæˆ–è€…æ˜¯è¿”å›žå®ƒä»¬ã€‚ ç®€å•æ¥è¯´ï¼Œé«˜é˜¶å‡½æ•°æ˜¯ä¸€ä¸ªæŽ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’æˆ–è€…å°†å‡½æ•°ä½œä¸ºè¿”å›žå€¼è¾“å‡ºçš„å‡½æ•°ã€‚ å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’JavaScript è¯­è¨€ä¸­å†…ç½®äº†ä¸€äº›é«˜é˜¶å‡½æ•°ï¼Œæ¯”å¦‚ Array.prototype.mapï¼ŒArray.prototype.filter å’Œ Array.prototype.reduceï¼Œå®ƒä»¬æŽ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå¹¶åº”ç”¨è¿™ä¸ªå‡½æ•°åˆ°åˆ—è¡¨çš„æ¯ä¸€ä¸ªå…ƒç´ ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹ä½¿ç”¨å®ƒä»¬ä¸Žä¸ä½¿ç”¨é«˜é˜¶å‡½æ•°çš„æ–¹æ¡ˆå¯¹æ¯”ã€‚ Array.prototype.mapmap() æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æžœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€ä¸ªæä¾›çš„å‡½æ•°åŽè¿”å›žçš„ç»“æžœï¼ŒåŽŸå§‹æ•°ç»„ä¸ä¼šæ”¹å˜ã€‚ä¼ é€’ç»™ map çš„å›žè°ƒå‡½æ•°ï¼ˆcallbackï¼‰æŽ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ currentValueã€indexï¼ˆå¯é€‰ï¼‰ã€arrayï¼ˆå¯é€‰ï¼‰ï¼Œé™¤äº† callback ä¹‹å¤–è¿˜å¯ä»¥æŽ¥å— this å€¼ï¼ˆå¯é€‰ï¼‰ï¼Œç”¨äºŽæ‰§è¡Œ callback å‡½æ•°æ—¶ä½¿ç”¨çš„this å€¼ã€‚ æ¥ä¸ªç®€å•çš„ä¾‹å­æ–¹ä¾¿ç†è§£ï¼ŒçŽ°åœ¨æœ‰ä¸€ä¸ªæ•°ç»„ [1, 2, 3, 4]ï¼Œæˆ‘ä»¬æƒ³è¦ç”Ÿæˆä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶æ¯ä¸ªå…ƒç´ çš†æ˜¯ä¹‹å‰æ•°ç»„çš„ä¸¤å€ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ‰ä¸‹é¢ä¸¤ç§ä½¿ç”¨é«˜é˜¶å’Œä¸ä½¿ç”¨é«˜é˜¶å‡½æ•°çš„æ–¹å¼æ¥å®žçŽ°ã€‚ ä¸ä½¿ç”¨é«˜é˜¶å‡½æ•°12345678910const arr1 = [1, 2, 3, 4];const arr2 = [];for (let i = 0; i &lt; arr1.length; i++) &#123; arr2.push( arr1[i] * 2);&#125;console.log( arr2 );// [2, 4, 6, 8]console.log( arr1 );// [1, 2, 3, 4] ä½¿ç”¨é«˜é˜¶å‡½æ•°1234567const arr1 = [1, 2, 3, 4];const arr2 = arr1.map(item =&gt; item * 2);console.log( arr2 );// [2, 4, 6, 8]console.log( arr1 );// [1, 2, 3, 4] Array.prototype.filterfilter() æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„, å…¶åŒ…å«é€šè¿‡æä¾›å‡½æ•°å®žçŽ°çš„æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ ï¼ŒåŽŸå§‹æ•°ç»„ä¸ä¼šæ”¹å˜ã€‚æŽ¥æ”¶çš„å‚æ•°å’Œ map æ˜¯ä¸€æ ·çš„ï¼Œå…¶è¿”å›žå€¼æ˜¯ä¸€ä¸ªæ–°æ•°ç»„ã€ç”±é€šè¿‡æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ ç»„æˆï¼Œå¦‚æžœæ²¡æœ‰ä»»ä½•æ•°ç»„å…ƒç´ é€šè¿‡æµ‹è¯•ï¼Œåˆ™è¿”å›žç©ºæ•°ç»„ã€‚ æ¥ä¸ªä¾‹å­ä»‹ç»ä¸‹ï¼ŒçŽ°åœ¨æœ‰ä¸€ä¸ªæ•°ç»„ [1, 2, 1, 2, 3, 5, 4, 5, 3, 4, 4, 4, 4]ï¼Œæˆ‘ä»¬æƒ³è¦ç”Ÿæˆä¸€ä¸ªæ–°æ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„è¦æ±‚æ²¡æœ‰é‡å¤çš„å†…å®¹ï¼Œå³ä¸ºåŽ»é‡ã€‚ ä¸ä½¿ç”¨é«˜é˜¶å‡½æ•°123456789101112const arr1 = [1, 2, 1, 2, 3, 5, 4, 5, 3, 4, 4, 4, 4];const arr2 = [];for (let i = 0; i &lt; arr1.length; i++) &#123; if (arr1.indexOf( arr1[i] ) === i) &#123; arr2.push( arr1[i] ); &#125;&#125;console.log( arr2 );// [1, 2, 3, 5, 4]console.log( arr1 );// [1, 2, 1, 2, 3, 5, 4, 5, 3, 4, 4, 4, 4] ä½¿ç”¨é«˜é˜¶å‡½æ•°123456789const arr1 = [1, 2, 1, 2, 3, 5, 4, 5, 3, 4, 4, 4, 4];const arr2 = arr1.filter( (element, index, self) =&gt; &#123; return self.indexOf( element ) === index;&#125;);console.log( arr2 );// [1, 2, 3, 5, 4]console.log( arr1 );// [1, 2, 1, 2, 3, 5, 4, 5, 3, 4, 4, 4, 4] Array.prototype.reducereduce() æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€ä¸ªæä¾›çš„ reducer å‡½æ•°(å‡åºæ‰§è¡Œ)ï¼Œå°†å…¶ç»“æžœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›žå€¼ã€‚ä¼ é€’ç»™ reduce çš„å›žè°ƒå‡½æ•°ï¼ˆcallbackï¼‰æŽ¥å—å››ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ç´¯åŠ å™¨ accumulatorã€currentValueã€currentIndexï¼ˆå¯é€‰ï¼‰ã€arrayï¼ˆå¯é€‰ï¼‰ï¼Œé™¤äº† callback ä¹‹å¤–è¿˜å¯ä»¥æŽ¥å—åˆå§‹å€¼ initialValue å€¼ï¼ˆå¯é€‰ï¼‰ã€‚ å¦‚æžœæ²¡æœ‰æä¾› initialValueï¼Œé‚£ä¹ˆç¬¬ä¸€æ¬¡è°ƒç”¨ callback å‡½æ•°æ—¶ï¼Œaccumulator ä½¿ç”¨åŽŸæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒcurrentValue å³æ˜¯æ•°ç»„ä¸­çš„ç¬¬äºŒä¸ªå…ƒç´ ã€‚ åœ¨æ²¡æœ‰åˆå§‹å€¼çš„ç©ºæ•°ç»„ä¸Šè°ƒç”¨ reduce å°†æŠ¥é”™ã€‚ å¦‚æžœæä¾›äº† initialValueï¼Œé‚£ä¹ˆå°†ä½œä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨ callback å‡½æ•°æ—¶çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ï¼Œå³ accumulatorï¼ŒcurrentValue ä½¿ç”¨åŽŸæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ æ¥ä¸ªç®€å•çš„ä¾‹å­ä»‹ç»ä¸‹ï¼ŒçŽ°åœ¨æœ‰ä¸€ä¸ªæ•°ç»„ [0, 1, 2, 3, 4]ï¼Œéœ€è¦è®¡ç®—æ•°ç»„å…ƒç´ çš„å’Œï¼Œéœ€æ±‚æ¯”è¾ƒç®€å•ï¼Œæ¥çœ‹ä¸‹ä»£ç å®žçŽ°ã€‚ ä¸ä½¿ç”¨é«˜é˜¶å‡½æ•°12345678910const arr = [0, 1, 2, 3, 4];let sum = 0;for (let i = 0; i &lt; arr.length; i++) &#123; sum += arr[i];&#125;console.log( sum );// 10console.log( arr );// [0, 1, 2, 3, 4] ä½¿ç”¨é«˜é˜¶å‡½æ•°12345678910# æ—  initialValue å€¼const arr = [0, 1, 2, 3, 4];let sum = arr.reduce((accumulator, currentValue, currentIndex, array) =&gt; &#123; return accumulator + currentValue;&#125;);console.log( sum );// 10console.log( arr );// [0, 1, 2, 3, 4] ä¸Šé¢æ˜¯æ²¡æœ‰ initialValue çš„æƒ…å†µï¼Œä»£ç çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼Œcallback æ€»å…±è°ƒç”¨å››æ¬¡ã€‚ callback accumulator currentValue currentIndex array return value first call 0 1 1 [0, 1, 2, 3, 4] 1 second call 1 2 2 [0, 1, 2, 3, 4] 3 third call 3 3 3 [0, 1, 2, 3, 4] 6 fourth call 6 4 4 [0, 1, 2, 3, 4] 10 æˆ‘ä»¬å†æ¥çœ‹ä¸‹æœ‰ initialValue çš„æƒ…å†µï¼Œå‡è®¾ initialValue å€¼ä¸º 10ï¼Œæˆ‘ä»¬çœ‹ä¸‹ä»£ç ã€‚12345678910# æœ‰ initialValue å€¼const arr = [0, 1, 2, 3, 4];let sum = arr.reduce((accumulator, currentValue, currentIndex, array) =&gt; &#123; return accumulator + currentValue;&#125;, 10);console.log( sum );// 20console.log( arr );// [0, 1, 2, 3, 4] ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼Œcallback æ€»å…±è°ƒç”¨äº”æ¬¡ã€‚ callback accumulator currentValue currentIndex array return value first call 10 0 0 [0, 1, 2, 3, 4] 10 second call 10 1 1 [0, 1, 2, 3, 4] 11 third call 11 2 2 [0, 1, 2, 3, 4] 13 fourth call 13 3 3 [0, 1, 2, 3, 4] 16 fifth call 16 4 4 [0, 1, 2, 3, 4] 20]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>javscript</tag>
        <tag>é«˜é˜¶å‡½æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javascriptè®¾è®¡æ¨¡å¼ä¹‹é€‚é…å™¨æ¨¡å¼]]></title>
    <url>%2F2019%2F05%2F12%2Fjavascript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[é€‚é…å™¨æ¨¡å¼ å®šä¹‰ï¼šå°†ä¸€ä¸ªç±»çš„æŽ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæŽ¥å£ã€‚é€‚é…å™¨æ¨¡å¼ä½¿å¾—åŽŸæœ¬ç”±äºŽæŽ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚ æœ¬è´¨ï¼šè½¬æ¢åŒ¹é…ï¼Œå¤ç”¨åŠŸèƒ½ é€‚é…å™¨æ¨¡å¼å¯ç”¨æ¥åœ¨çŽ°æœ‰æŽ¥å£å’Œä¸å…¼å®¹çš„ç±»ä¹‹é—´è¿›è¡Œé€‚é…ã€‚ä½¿ç”¨è¿™ç§æ¨¡å¼çš„å¯¹è±¡åˆå«åŒ…è£…å™¨ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åœ¨ç”¨ä¸€ä¸ªæ–°çš„æŽ¥å£åŒ…è£…å¦ä¸€ä¸ªå¯¹è±¡ã€‚è®¸å¤šæ—¶å€™åˆ›å»ºé€‚é…å™¨å¯¹ç¨‹åºå‘˜å’ŒæŽ¥å£çš„è®¾è®¡äººå‘˜éƒ½æœ‰å¥½å¤„ã€‚åœ¨è®¾è®¡ç±»çš„æ—¶å€™å¾€å¾€ä¼šé‡åˆ°æœ‰äº›æŽ¥å£ä¸èƒ½ä¸ŽçŽ°æœ‰APIä¸€åŒä½¿ç”¨çš„æƒ…å†µã€‚å€ŸåŠ©äºŽé€‚é…å™¨ï¼Œä½ ä¸ç”¨ç›´æŽ¥ä¿®æ”¹è¿™äº›ç±»ä¹Ÿèƒ½ä½¿ç”¨å®ƒä»¬ã€‚åœ¨è®¾è®¡å¤§åž‹ç³»ç»Ÿå’Œé—ç•™æ¡†æž¶çš„æƒ…å†µä¸‹ï¼Œä»–çš„ä¼˜ç‚¹å¾€å¾€æ¯”ç¼ºç‚¹æ›´çªå‡ºã€‚]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>javscript</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javascriptè®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼]]></title>
    <url>%2F2019%2F05%2F11%2Fjavascript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[å•ä¾‹æ¨¡å¼ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®žä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚ä¾‹å¦‚ï¼šçº¿ç¨‹æ± ï¼Œå…¨å±€ç¼“å­˜ï¼Œç™»å½•æµ®çª—ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦æŠŠå•ä¾‹çš„é€»è¾‘ä»£ç å•ç‹¬æå–ï¼Œç„¶åŽä½¿ç”¨æƒ°æ€§å•ä¾‹çš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯è¿”å›žæ–¹æ³•ã€‚åªæœ‰åœ¨ç‚¹å‡»çš„æ—¶å€™ï¼Œæ‰ä¼šè¿›è¡Œæ‰§è¡Œã€‚ javascriptçš„å•ä¾‹ï¼Œè·Ÿç±»ä¸ä¸€æ ·ã€‚æ— éœ€åˆ›å»ºå¤šä½™çš„æž„é€ å‡½æ•°è¿™äº›ï¼Œç›´æŽ¥åˆ›å»ºå…¨å±€å˜é‡å³å¯ã€‚ 12345678910111213141516171819202122232425262728!(function () &#123; //ç®¡ç†å•ä¾‹çš„é€»è¾‘ä»£ç ï¼Œå¦‚æžœæ²¡æœ‰æ•°æ®åˆ™åˆ›å»ºï¼Œæœ‰æ•°æ®åˆ™è¿”å›ž var getSingle = function(fn)&#123; //å‚æ•°ä¸ºåˆ›å»ºå¯¹è±¡çš„æ–¹æ³• var result; return function()&#123; //åˆ¤æ–­æ˜¯Nullæˆ–èµ‹å€¼ return result || (result = fn.apply(this,arguments)); &#125;; &#125;; //åˆ›å»ºç™»å½•çª—å£æ–¹æ³• var createLoginLayer = function()&#123; var div = document.createElement('div'); div.innerHTML = 'æˆ‘æ˜¯ç™»å½•æµ®çª—'; div.style.display = 'none'; document.body.appendChild(div); return div; &#125;; //å•ä¾‹æ–¹æ³• var createSingleLoginLayer = getSingle(createLoginLayer); //ä½¿ç”¨æƒ°æ€§å•ä¾‹ï¼Œè¿›è¡Œåˆ›å»º document.getElementById('loginBtn').onclick = function()&#123; var loginLayer = createSingleLoginLayer(); loginLayer.style.display = 'block'; &#125;;&#125;)()]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
      <tags>
        <tag>javscript</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
</search>
